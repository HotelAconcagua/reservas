(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var dd={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function zA(){if(i_)return hl;i_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=n,hl.jsxs=n,hl}var r_;function jA(){return r_||(r_=1,dd.exports=zA()),dd.exports}var K=jA(),md={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function BA(){if(s_)return Ct;s_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function J(C,$,rt){this.props=C,this.context=$,this.refs=tt,this.updater=rt||q}J.prototype.isReactComponent={},J.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _t(){}_t.prototype=J.prototype;function dt(C,$,rt){this.props=C,this.context=$,this.refs=tt,this.updater=rt||q}var it=dt.prototype=new _t;it.constructor=dt,Z(it,J.prototype),it.isPureReactComponent=!0;var At=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function O(C,$,rt,W,ut,wt){return rt=wt.ref,{$$typeof:r,type:C,key:$,ref:rt!==void 0?rt:null,props:wt}}function S(C,$){return O(C.type,$,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function V(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(rt){return $[rt]})}var M=/\/+/g;function x(C,$){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):$.toString(36)}function I(){}function pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,$,rt,W,ut){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(wt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case r:case t:pt=!0;break;case A:return pt=C._init,ie(pt(C._payload),$,rt,W,ut)}}if(pt)return ut=ut(C),pt=W===""?"."+x(C,0):W,At(ut)?(rt="",pt!=null&&(rt=pt.replace(M,"$&/")+"/"),ie(ut,$,rt,"",function(En){return En})):ut!=null&&(b(ut)&&(ut=S(ut,rt+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+pt)),$.push(ut)),1;pt=0;var ye=W===""?".":W+":";if(At(C))for(var Xt=0;Xt<C.length;Xt++)W=C[Xt],wt=ye+x(W,Xt),pt+=ie(W,$,rt,wt,ut);else if(Xt=D(C),typeof Xt=="function")for(C=Xt.call(C),Xt=0;!(W=C.next()).done;)W=W.value,wt=ye+x(W,Xt++),pt+=ie(W,$,rt,wt,ut);else if(wt==="object"){if(typeof C.then=="function")return ie(pe(C),$,rt,W,ut);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,$,rt){if(C==null)return C;var W=[],ut=0;return ie(C,W,"","",function(wt){return $.call(rt,wt,ut++)}),W}function nt(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(rt){(C._status===0||C._status===-1)&&(C._status=1,C._result=rt)},function(rt){(C._status===0||C._status===-1)&&(C._status=2,C._result=rt)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ut(){}return Ct.Children={map:H,forEach:function(C,$,rt){H(C,function(){$.apply(this,arguments)},rt)},count:function(C){var $=0;return H(C,function(){$++}),$},toArray:function(C){return H(C,function($){return $})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ct.Component=J,Ct.Fragment=n,Ct.Profiler=l,Ct.PureComponent=dt,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ft.H.useMemoCache(C)}},Ct.cache=function(C){return function(){return C.apply(null,arguments)}},Ct.cloneElement=function(C,$,rt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),ut=C.key,wt=void 0;if($!=null)for(pt in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(ut=""+$.key),$)!Rt.call($,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&$.ref===void 0||(W[pt]=$[pt]);var pt=arguments.length-2;if(pt===1)W.children=rt;else if(1<pt){for(var ye=Array(pt),Xt=0;Xt<pt;Xt++)ye[Xt]=arguments[Xt+2];W.children=ye}return O(C.type,ut,void 0,void 0,wt,W)},Ct.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ct.createElement=function(C,$,rt){var W,ut={},wt=null;if($!=null)for(W in $.key!==void 0&&(wt=""+$.key),$)Rt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=$[W]);var pt=arguments.length-2;if(pt===1)ut.children=rt;else if(1<pt){for(var ye=Array(pt),Xt=0;Xt<pt;Xt++)ye[Xt]=arguments[Xt+2];ut.children=ye}if(C&&C.defaultProps)for(W in pt=C.defaultProps,pt)ut[W]===void 0&&(ut[W]=pt[W]);return O(C,wt,void 0,void 0,null,ut)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(C){return{$$typeof:g,render:C}},Ct.isValidElement=b,Ct.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:nt}},Ct.memo=function(C,$){return{$$typeof:_,type:C,compare:$===void 0?null:$}},Ct.startTransition=function(C){var $=ft.T,rt={};ft.T=rt;try{var W=C(),ut=ft.S;ut!==null&&ut(rt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ut,lt)}catch(wt){lt(wt)}finally{ft.T=$}},Ct.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Ct.use=function(C){return ft.H.use(C)},Ct.useActionState=function(C,$,rt){return ft.H.useActionState(C,$,rt)},Ct.useCallback=function(C,$){return ft.H.useCallback(C,$)},Ct.useContext=function(C){return ft.H.useContext(C)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(C,$){return ft.H.useDeferredValue(C,$)},Ct.useEffect=function(C,$,rt){var W=ft.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,$)},Ct.useId=function(){return ft.H.useId()},Ct.useImperativeHandle=function(C,$,rt){return ft.H.useImperativeHandle(C,$,rt)},Ct.useInsertionEffect=function(C,$){return ft.H.useInsertionEffect(C,$)},Ct.useLayoutEffect=function(C,$){return ft.H.useLayoutEffect(C,$)},Ct.useMemo=function(C,$){return ft.H.useMemo(C,$)},Ct.useOptimistic=function(C,$){return ft.H.useOptimistic(C,$)},Ct.useReducer=function(C,$,rt){return ft.H.useReducer(C,$,rt)},Ct.useRef=function(C){return ft.H.useRef(C)},Ct.useState=function(C){return ft.H.useState(C)},Ct.useSyncExternalStore=function(C,$,rt){return ft.H.useSyncExternalStore(C,$,rt)},Ct.useTransition=function(){return ft.H.useTransition()},Ct.version="19.1.0",Ct}var a_;function em(){return a_||(a_=1,md.exports=BA()),md.exports}var Ht=em(),gd={exports:{}},fl={},pd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function qA(){return o_||(o_=1,function(r){function t(H,nt){var lt=H.length;H.push(nt);t:for(;0<lt;){var Ut=lt-1>>>1,C=H[Ut];if(0<l(C,nt))H[Ut]=nt,H[lt]=C,lt=Ut;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],lt=H.pop();if(lt!==nt){H[0]=lt;t:for(var Ut=0,C=H.length,$=C>>>1;Ut<$;){var rt=2*(Ut+1)-1,W=H[rt],ut=rt+1,wt=H[ut];if(0>l(W,lt))ut<C&&0>l(wt,W)?(H[Ut]=wt,H[ut]=lt,Ut=ut):(H[Ut]=W,H[rt]=lt,Ut=rt);else if(ut<C&&0>l(wt,lt))H[Ut]=wt,H[ut]=lt,Ut=ut;else break t}}return nt}function l(H,nt){var lt=H.sortIndex-nt.sortIndex;return lt!==0?lt:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,w=null,D=3,q=!1,Z=!1,tt=!1,J=!1,_t=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function At(H){for(var nt=n(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=H)s(_),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(_)}}function ft(H){if(tt=!1,At(H),!Z)if(n(p)!==null)Z=!0,Rt||(Rt=!0,x());else{var nt=n(_);nt!==null&&ie(ft,nt.startTime-H)}}var Rt=!1,O=-1,S=5,b=-1;function V(){return J?!0:!(r.unstable_now()-b<S)}function M(){if(J=!1,Rt){var H=r.unstable_now();b=H;var nt=!0;try{t:{Z=!1,tt&&(tt=!1,dt(O),O=-1),q=!0;var lt=D;try{e:{for(At(H),w=n(p);w!==null&&!(w.expirationTime>H&&V());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,D=w.priorityLevel;var C=Ut(w.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){w.callback=C,At(H),nt=!0;break e}w===n(p)&&s(p),At(H)}else s(p);w=n(p)}if(w!==null)nt=!0;else{var $=n(_);$!==null&&ie(ft,$.startTime-H),nt=!1}}break t}finally{w=null,D=lt,q=!1}nt=void 0}}finally{nt?x():Rt=!1}}}var x;if(typeof it=="function")x=function(){it(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=M,x=function(){pe.postMessage(null)}}else x=function(){_t(M,0)};function ie(H,nt){O=_t(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var lt=D;D=nt;try{return H()}finally{D=lt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=D;D=H;try{return nt()}finally{D=lt}},r.unstable_scheduleCallback=function(H,nt,lt){var Ut=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ut+lt:Ut):lt=Ut,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:nt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Ut?(H.sortIndex=lt,t(_,H),n(p)===null&&H===n(_)&&(tt?(dt(O),O=-1):tt=!0,ie(ft,lt-Ut))):(H.sortIndex=C,t(p,H),Z||q||(Z=!0,Rt||(Rt=!0,x()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var nt=D;return function(){var lt=D;D=nt;try{return H.apply(this,arguments)}finally{D=lt}}}}(yd)),yd}var l_;function HA(){return l_||(l_=1,pd.exports=qA()),pd.exports}var _d={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function FA(){if(u_)return $e;u_=1;var r=em();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$e.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},$e.flushSync=function(p){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=A,s.d.f()}},$e.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},$e.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$e.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:D,fetchPriority:q}):A==="script"&&s.d.X(p,{crossOrigin:w,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$e.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},$e.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$e.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},$e.requestFormReset=function(p){s.d.r(p)},$e.unstable_batchedUpdates=function(p,_){return p(_)},$e.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.1.0",$e}var c_;function GA(){if(c_)return _d.exports;c_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=FA(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function QA(){if(h_)return fl;h_=1;var r=HA(),t=em(),n=GA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case tt:return"StrictMode";case ft:return"Suspense";case Rt:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case it:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case At:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:pe(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return pe(e(i))}catch{}}return null}var ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ut=[],C=-1;function $(e){return{current:e}}function rt(e){0>C||(e.current=Ut[C],Ut[C]=null,C--)}function W(e,i){C++,Ut[C]=e.current,e.current=i}var ut=$(null),wt=$(null),pt=$(null),ye=$(null);function Xt(e,i){switch(W(pt,i),W(wt,e),W(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Oy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Oy(i),e=Vy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(ut),W(ut,e)}function En(){rt(ut),rt(wt),rt(pt)}function Et(e){e.memoizedState!==null&&W(ye,e);var i=ut.current,a=Vy(i,e.type);i!==a&&(W(wt,e),W(ut,a))}function It(e){wt.current===e&&(rt(ut),rt(wt)),ye.current===e&&(rt(ye),al._currentValue=lt)}var _e=Object.prototype.hasOwnProperty,ve=r.unstable_scheduleCallback,Un=r.unstable_cancelCallback,Zi=r.unstable_shouldYield,zs=r.unstable_requestPaint,Tn=r.unstable_now,fh=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,js=r.unstable_UserBlockingPriority,Qr=r.unstable_NormalPriority,dh=r.unstable_LowPriority,Bs=r.unstable_IdlePriority,ro=r.log,Fl=r.unstable_setDisableYieldValue,ue=null,Qt=null;function hn(e){if(typeof ro=="function"&&Fl(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ue,e)}catch{}}var Ye=Math.clz32?Math.clz32:Kr,Gl=Math.log,mh=Math.LN2;function Kr(e){return e>>>=0,e===0?32:31-(Gl(e)/mh|0)|0}var Yr=256,Xr=4194304;function kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=kn(o):(v&=E,v!==0?h=kn(v):a||(a=E&~e,a!==0&&(h=kn(a))))):(E=o&~f,E!==0?h=kn(E):v!==0?h=kn(v):a||(a=o&~e,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function $r(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function so(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),e}function oo(){var e=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lo(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Ye(a),Q=1<<F;E[F]=0,R[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var j=z[F];j!==null&&(j.lane&=-536870913)}a&=~Q}o!==0&&Kn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Kn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ye(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function uo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ye(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ji(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:Zy(e.type))}function Ql(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var se=Math.random().toString(36).slice(2),Ie="__reactFiber$"+se,Ee="__reactProps$"+se,An="__reactContainer$"+se,co="__reactEvents$"+se,gh="__reactListeners$"+se,tr="__reactHandles$"+se,Kl="__reactResources$"+se,Zr="__reactMarker$"+se;function er(e){delete e[Ie],delete e[Ee],delete e[co],delete e[gh],delete e[tr]}function Ei(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[An]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Uy(e);e!==null;){if(a=e[Ie])return a;e=Uy(e)}return i}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[Ie]||e[An]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Xn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function en(e){var i=e[Kl];return i||(i=e[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[Zr]=!0}var ho=new Set,Fs={};function Ln(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Fs[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},Jr={};function $l(e){return _e.call(Jr,e)?!0:_e.call(Xl,e)?!1:Yl.test(e)?Jr[e]=!0:(Xl[e]=!0,!1)}function nr(e,i,a){if($l(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function $n(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function je(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Wr,Zl;function Ai(e){if(Wr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Wr=i&&i[1]||"",Zl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+Zl}var Gs=!1;function Qs(e,i){if(!e||Gs)return"";Gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),L=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===L.length)for(o=R.length-1,h=L.length-1;1<=o&&0<=h&&R[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==L[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Gs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ai(a):""}function fo(e){switch(e.tag){case 26:case 27:case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return Ai("Activity");default:return""}}function Ks(e){try{var i="";do i+=fo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ph(e){var i=mo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ys(e){e._valueTracker||(e._valueTracker=ph(e))}function go(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=mo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yh=/[\n"\\]/g;function Te(e){return e.replace(yh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+nn(i)):e.value!==""+nn(i)&&(e.value=""+nn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ir(e,v,nn(i)):a!=null?ir(e,v,nn(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function es(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ir(e,i,a){i==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Si(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function $t(e,i,a){if(i!=null&&(i=""+nn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+nn(a):""}function ns(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=nn(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||is.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Jl(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Jl(e,f,i[f])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bi=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,wi=null;function _o(e){var i=Yn(e);if(i&&(e=i.stateNode)){var a=e[Ee]||null;t:switch(e=i.stateNode,i.type){case"input":if(fn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Te(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Ee]||null;if(!h)throw Error(s(90));fn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&go(o)}break t;case"textarea":$t(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Si(e,!!a.multiple,i,!1)}}}var Zn=!1;function Wl(e,i,a){if(Zn)return e(i,a);Zn=!0;try{var o=e(i);return o}finally{if(Zn=!1,(Ri!==null||wi!==null)&&(Qu(),Ri&&(i=Ri,e=wi,wi=Ri=null,_o(i),e)))for(i=0;i<e.length;i++)_o(e[i])}}function rs(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ee]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(zn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Rn=!1}var Jn=null,rr=null,Ii=null;function vo(){if(Ii)return Ii;var e,i=rr,a=i.length,o,h="value"in Jn?Jn.value:Jn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return Ii=h.slice(e,1<o?1-o:void 0)}function Wn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function Eo(){return!1}function Pe(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ti:Eo,this.isPropagationStopped=Eo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Pe(Ft),as=A({},Ft,{view:0,detail:0}),tu=Pe(as),Zs,Js,ei,os=A({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Zs=e.screenX-ei.screenX,Js=e.screenY-ei.screenY):Js=Zs=0,ei=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),wn=Pe(os),eu=A({},os,{dataTransfer:0}),Eh=Pe(eu),ls=A({},as,{relatedTarget:0}),Ws=Pe(ls),To=A({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=Pe(To),nu=A({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=Pe(nu),Th=A({},Ft,{data:0}),Ao=Pe(Th),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ru[e])?!!i[e]:!1}function cs(){return So}var su=A({},as,{key:function(e){if(e.key){var i=us[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Wn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Wn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=Pe(su),au=A({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Pe(au),Ci=A({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),ou=Pe(Ci),lu=A({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),uu=Pe(lu),cu=A({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Pe(cu),rn=A({},Ft,{newState:0,oldState:0}),hu=Pe(rn),fu=[9,13,27,32],ni=zn&&"CompositionEvent"in window,u=null;zn&&"documentMode"in document&&(u=document.documentMode);var m=zn&&"TextEvent"in window&&!u,y=zn&&(!ni||u&&8<u&&11>=u),T=" ",U=!1;function B(e,i){switch(e){case"keyup":return fu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Ce(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(U=!0,T);case"textInput":return e=i.data,e===T&&U?null:e;default:return null}}function Lt(e,i){if(kt)return e==="compositionend"||!ni&&B(e,i)?(e=vo(),Ii=rr=Jn=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!xe[e.type]:i==="textarea"}function Di(e,i,a,o){Ri?wi?wi.push(o):wi=[o]:Ri=o,i=Ju(i,"onChange"),0<i.length&&(a=new $s("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Be=null,ii=null;function Ro(e){wy(e,0)}function du(e){var i=Xn(e);if(go(i))return e}function Km(e,i){if(e==="change")return i}var Ym=!1;if(zn){var Ah;if(zn){var Sh="oninput"in document;if(!Sh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Sh=typeof Xm.oninput=="function"}Ah=Sh}else Ah=!1;Ym=Ah&&(!document.documentMode||9<document.documentMode)}function $m(){Be&&(Be.detachEvent("onpropertychange",Zm),ii=Be=null)}function Zm(e){if(e.propertyName==="value"&&du(ii)){var i=[];Di(i,ii,e,bn(e)),Wl(Ro,i)}}function g0(e,i,a){e==="focusin"?($m(),Be=i,ii=a,Be.attachEvent("onpropertychange",Zm)):e==="focusout"&&$m()}function p0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(ii)}function y0(e,i){if(e==="click")return du(i)}function _0(e,i){if(e==="input"||e==="change")return du(i)}function v0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:v0;function wo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_e.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,i){var a=Jm(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jm(a)}}function tg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?tg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ts(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ts(e.document)}return i}function bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var E0=zn&&"documentMode"in document&&11>=document.documentMode,ra=null,Rh=null,Io=null,wh=!1;function ng(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wh||ra==null||ra!==ts(o)||(o=ra,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&wo(Io,o)||(Io=o,o=Ju(Rh,"onSelect"),0<o.length&&(i=new $s("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ra)))}function hs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var sa={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Ih={},ig={};zn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function fs(e){if(Ih[e])return Ih[e];if(!sa[e])return e;var i=sa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ig)return Ih[e]=i[a];return e}var rg=fs("animationend"),sg=fs("animationiteration"),ag=fs("animationstart"),T0=fs("transitionrun"),A0=fs("transitionstart"),S0=fs("transitioncancel"),og=fs("transitionend"),lg=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function jn(e,i){lg.set(e,i),Ln(i,[e])}var ug=new WeakMap;function In(e,i){if(typeof e=="object"&&e!==null){var a=ug.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ks(i)},ug.set(e,i),i)}return{value:e,source:i,stack:Ks(i)}}var Cn=[],aa=0,Dh=0;function mu(){for(var e=aa,i=Dh=aa=0;i<e;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var f=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&cg(a,h,f)}}function gu(e,i,a,o){Cn[aa++]=e,Cn[aa++]=i,Cn[aa++]=a,Cn[aa++]=o,Dh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nh(e,i,a,o){return gu(e,i,a,o),pu(e)}function oa(e,i){return gu(e,null,null,i),pu(e)}function cg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Ye(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function pu(e){if(50<Jo)throw Jo=0,kf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var la={};function b0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,o){return new b0(e,i,a,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function yu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Oh(e)&&(v=1);else if(typeof e=="string")v=wA(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=mn(31,a,i,h),e.elementType=b,e.lanes=f,e;case Z:return ds(a.children,h,f,i);case tt:v=8,h|=24;break;case J:return e=mn(12,a,i,h|2),e.elementType=J,e.lanes=f,e;case ft:return e=mn(13,a,i,h),e.elementType=ft,e.lanes=f,e;case Rt:return e=mn(19,a,i,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:case it:v=10;break t;case dt:v=9;break t;case At:v=11;break t;case O:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=mn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function ds(e,i,a,o){return e=mn(7,e,o,i),e.lanes=a,e}function Vh(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function Mh(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ua=[],ca=0,_u=null,vu=0,Dn=[],Nn=0,ms=null,Oi=1,Vi="";function gs(e,i){ua[ca++]=vu,ua[ca++]=_u,_u=e,vu=i}function fg(e,i,a){Dn[Nn++]=Oi,Dn[Nn++]=Vi,Dn[Nn++]=ms,ms=e;var o=Oi;e=Vi;var h=32-Ye(o)-1;o&=~(1<<h),a+=1;var f=32-Ye(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Oi=1<<32-Ye(i)+h|a<<h|o,Vi=f+e}else Oi=1<<f|a<<h|o,Vi=e}function Ph(e){e.return!==null&&(gs(e,1),fg(e,1,0))}function xh(e){for(;e===_u;)_u=ua[--ca],ua[ca]=null,vu=ua[--ca],ua[ca]=null;for(;e===ms;)ms=Dn[--Nn],Dn[Nn]=null,Vi=Dn[--Nn],Dn[Nn]=null,Oi=Dn[--Nn],Dn[Nn]=null}var sn=null,ce=null,qt=!1,ps=null,ri=!1,Uh=Error(s(519));function ys(e){var i=Error(s(418,""));throw No(In(i,e)),Uh}function dg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ie]=e,i[Ee]=o,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Mt(tl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),es(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ys(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),ns(i,o.value,o.defaultValue,o.children),Ys(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Ny(i.textContent,a)?(o.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),o.onScroll!=null&&Mt("scroll",i),o.onScrollEnd!=null&&Mt("scrollend",i),o.onClick!=null&&(i.onclick=Wu),i=!0):i=!1,i||ys(e)}function mg(e){for(sn=e.return;sn;)switch(sn.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:sn=sn.return}}function Co(e){if(e!==sn)return!1;if(!qt)return mg(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wf(e.type,e.memoizedProps)),a=!a),a&&ce&&ys(e),mg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ce=qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,Er(e.type)?(e=id,id=null,ce=e):ce=i):ce=sn?qn(e.stateNode.nextSibling):null;return!0}function Do(){ce=sn=null,qt=!1}function gg(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function No(e){ps===null?ps=[e]:ps.push(e)}var kh=$(null),_s=null,Mi=null;function sr(e,i,a){W(kh,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=kh.current,rt(kh)}function Lh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function zh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<i.length;R++)if(E.context===i[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Lh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Lh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;dn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===ye.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&zh(i,e,a,o),i.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return pg(_s,e)}function Tu(e,i){return _s===null&&vs(e),pg(e,i)}function pg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Mi=Mi.next=i;return a}var R0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},w0=r.unstable_scheduleCallback,I0=r.unstable_NormalPriority,Ne={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jh(){return{controller:new R0,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&w0(I0,function(){e.controller.abort()})}var Mo=null,Bh=0,ha=0,fa=null;function C0(e,i){if(Mo===null){var a=Mo=[];Bh=0,ha=Ff(),fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Bh++,i.then(yg,yg),i}function yg(){if(--Bh===0&&Mo!==null){fa!==null&&(fa.status="fulfilled");var e=Mo;Mo=null,ha=0,fa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function D0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var _g=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&C0(e,i),_g!==null&&_g(e,i)};var Es=$(null);function qh(){var e=Es.current;return e!==null?e:ee.pooledCache}function Au(e,i){i===null?W(Es,Es.current):W(Es,i.pool)}function vg(){var e=qh();return e===null?null:{parent:Ne._currentValue,pool:e}}var Po=Error(s(460)),Eg=Error(s(474)),Su=Error(s(542)),Hh={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bu(){}function Ag(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(bu,bu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,bg(e),e;default:if(typeof i.status=="string")i.then(bu,bu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,bg(e),e}throw xo=i,Po}}var xo=null;function Sg(){if(xo===null)throw Error(s(459));var e=xo;return xo=null,e}function bg(e){if(e===Po||e===Su)throw Error(s(483))}var ar=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function or(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function lr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=pu(e),cg(e,null,a),i}return gu(e,o,i,a),pu(e)}function Uo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}function Qh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Kh=!1;function ko(){if(Kh){var e=fa;if(e!==null)throw e}}function Lo(e,i,a,o){Kh=!1;var h=e.updateQueue;ar=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,L=R.next;R.next=null,v===null?f=L:v.next=L,v=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;v=0,F=L=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(zt&z)===z:(o&z)===z){z!==0&&z===ha&&(Kh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=e,mt=E;z=i;var Wt=a;switch(mt.tag){case 1:if(vt=mt.payload,typeof vt=="function"){Q=vt.call(Wt,Q,z);break t}Q=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=mt.payload,z=typeof vt=="function"?vt.call(Wt,Q,z):vt,z==null)break t;Q=A({},Q,z);break t;case 2:ar=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=j,R=Q):F=F.next=j,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);F===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=L,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),pr|=v,e.lanes=v,e.memoizedState=Q}}function Rg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function wg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rg(a[e],i)}var da=$(null),Ru=$(0);function Ig(e,i){e=Bi,W(Ru,e),W(da,i),Bi=e|i.baseLanes}function Yh(){W(Ru,Bi),W(da,da.current)}function Xh(){Bi=Ru.current,rt(da),rt(Ru)}var ur=0,Dt=null,Zt=null,Ae=null,wu=!1,ma=!1,Ts=!1,Iu=0,zo=0,ga=null,N0=0;function de(){throw Error(s(321))}function $h(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Zh(e,i,a,o,h,f){return ur=f,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?cp:hp,Ts=!1,f=a(o,h),Ts=!1,ma&&(f=Dg(i,a,o,h)),Cg(e),f}function Cg(e){H.H=Mu;var i=Zt!==null&&Zt.next!==null;if(ur=0,Ae=Zt=Dt=null,wu=!1,zo=0,ga=null,i)throw Error(s(300));e===null||Ue||(e=e.dependencies,e!==null&&Eu(e)&&(Ue=!0))}function Dg(e,i,a,o){Dt=e;var h=0;do{if(ma&&(ga=null),zo=0,ma=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=k0,f=i(a,o)}while(ma);return f}function O0(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?jo(i):i,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(Dt.flags|=1024),i}function Jh(){var e=Iu!==0;return Iu=0,e}function Wh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function tf(e){if(wu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}wu=!1}ur=0,Ae=Zt=Dt=null,ma=!1,zo=Iu=0,ga=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Dt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Se(){if(Zt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var i=Ae===null?Dt.memoizedState:Ae.next;if(i!==null)Ae=i,Zt=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?Dt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var i=zo;return zo+=1,ga===null&&(ga=[]),e=Ag(ga,e,i),i=Dt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?cp:hp),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===it)return Xe(e)}throw Error(s(438,String(e)))}function nf(e){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ef(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function xi(e,i){return typeof i=="function"?i(e):i}function Du(e){var i=Se();return rf(i,Zt,e)}function rf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,R=null,L=i,F=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(zt&Q)===Q:(ur&Q)===Q){var z=L.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ha&&(F=!0);else if((ur&z)===z){L=L.next,z===ha&&(F=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=Q,v=f):R=R.next=Q,Dt.lanes|=z,pr|=z;Q=L.action,Ts&&a(f,Q),f=L.hasEagerState?L.eagerState:a(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=z,v=f):R=R.next=z,Dt.lanes|=Q,pr|=Q;L=L.next}while(L!==null&&L!==i);if(R===null?v=f:R.next=E,!dn(f,e.memoizedState)&&(Ue=!0,F&&(a=fa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var i=Se(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);dn(f,i.memoizedState)||(Ue=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Ng(e,i,a){var o=Dt,h=Se(),f=qt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn((Zt||h).memoizedState,a);v&&(h.memoizedState=a,Ue=!0),h=h.queue;var E=Mg.bind(null,o,h,e);if(Bo(2048,8,E,[e]),h.getSnapshot!==i||v||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,pa(9,Nu(),Vg.bind(null,o,h,a,i),null),ee===null)throw Error(s(349));f||(ur&124)!==0||Og(o,i,a)}return a}function Og(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=ef(),Dt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Vg(e,i,a,o){i.value=a,i.getSnapshot=o,Pg(i)&&xg(e)}function Mg(e,i,a){return a(function(){Pg(i)&&xg(e)})}function Pg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function xg(e){var i=oa(e,2);i!==null&&vn(i,e,2)}function af(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),Ts){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},i}function Ug(e,i,a,o){return e.baseState=a,rf(e,Zt,typeof o=="function"?o:xi)}function V0(e,i,a,o,h){if(Vu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,kg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function kg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=H.T,v={};H.T=v;try{var E=a(h,o),R=H.S;R!==null&&R(v,E),Lg(e,i,E)}catch(L){of(e,i,L)}finally{H.T=f}}else try{f=a(h,o),Lg(e,i,f)}catch(L){of(e,i,L)}}function Lg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){zg(e,i,o)},function(o){return of(e,i,o)}):zg(e,i,a)}function zg(e,i,a){i.status="fulfilled",i.value=a,jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,kg(e,a)))}function of(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==o)}e.action=null}function jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Bg(e,i){return i}function qg(e,i){if(qt){var a=ee.formState;if(a!==null){t:{var o=Dt;if(qt){if(ce){e:{for(var h=ce,f=ri;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=qn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bg,lastRenderedState:i},a.queue=o,a=op.bind(null,Dt,o),o.dispatch=a,o=af(!1),f=ff.bind(null,Dt,!1,o.queue),o=an(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=V0.bind(null,Dt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Hg(e){var i=Se();return Fg(i,Zt,e)}function Fg(e,i,a){if(i=rf(e,i,Bg)[0],e=Du(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=jo(i)}catch(v){throw v===Po?Su:v}else o=i;i=Se();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Dt.flags|=2048,pa(9,Nu(),M0.bind(null,h,a),null)),[o,f,e]}function M0(e,i){e.action=i}function Gg(e){var i=Se(),a=Zt;if(a!==null)return Fg(i,a,e);Se(),i=i.memoizedState,a=Se();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function pa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=ef(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Nu(){return{destroy:void 0,resource:void 0}}function Qg(){return Se().memoizedState}function Ou(e,i,a,o){var h=an();o=o===void 0?null:o,Dt.flags|=e,h.memoizedState=pa(1|i,Nu(),a,o)}function Bo(e,i,a,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&$h(o,Zt.memoizedState.deps)?h.memoizedState=pa(i,f,a,o):(Dt.flags|=e,h.memoizedState=pa(1|i,f,a,o))}function Kg(e,i){Ou(8390656,8,e,i)}function Yg(e,i){Bo(2048,8,e,i)}function Xg(e,i){return Bo(4,2,e,i)}function $g(e,i){return Bo(4,4,e,i)}function Zg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Jg(e,i,a){a=a!=null?a.concat([e]):null,Bo(4,4,Zg.bind(null,i,e),a)}function lf(){}function Wg(e,i){var a=Se();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&$h(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function tp(e,i){var a=Se();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&$h(i,o[1]))return o[0];if(o=e(),Ts){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[o,i],o}function uf(e,i,a){return a===void 0||(ur&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=iy(),Dt.lanes|=e,pr|=e,a)}function ep(e,i,a,o){return dn(a,i)?a:da.current!==null?(e=uf(e,a,o),dn(e,i)||(Ue=!0),e):(ur&42)===0?(Ue=!0,e.memoizedState=a):(e=iy(),Dt.lanes|=e,pr|=e,i)}function np(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,ff(e,!1,i,a);try{var R=h(),L=H.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=D0(R,o);qo(e,i,F,_n(e))}else qo(e,i,o,_n(e))}catch(Q){qo(e,i,{then:function(){},status:"rejected",reason:Q},_n())}finally{nt.p=f,H.T=v}}function P0(){}function cf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=ip(e).queue;np(e,h,i,lt,a===null?P0:function(){return rp(e),a(o)})}function ip(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function rp(e){var i=ip(e).next.queue;qo(e,i,{},_n())}function hf(){return Xe(al)}function sp(){return Se().memoizedState}function ap(){return Se().memoizedState}function x0(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();e=or(a);var o=lr(i,e,a);o!==null&&(vn(o,i,a),Uo(o,i,a)),i={cache:jh()},e.payload=i;return}i=i.return}}function U0(e,i,a){var o=_n();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(e)?lp(i,a):(a=Nh(e,i,a,o),a!==null&&(vn(a,e,o),up(a,i,o)))}function op(e,i,a){var o=_n();qo(e,i,a,o)}function qo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))lp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,dn(E,v))return gu(e,i,h,0),ee===null&&mu(),!1}catch{}finally{}if(a=Nh(e,i,h,o),a!==null)return vn(a,e,o),up(a,i,o),!0}return!1}function ff(e,i,a,o){if(o={lane:2,revertLane:Ff(),action:o,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(i)throw Error(s(479))}else i=Nh(e,a,o,2),i!==null&&vn(i,e,2)}function Vu(e){var i=e.alternate;return e===Dt||i!==null&&i===Dt}function lp(e,i){ma=wu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function up(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}var Mu={readContext:Xe,use:Cu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},cp={readContext:Xe,use:Cu,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Xe,useEffect:Kg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ou(4194308,4,Zg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ou(4194308,4,e,i)},useInsertionEffect:function(e,i){Ou(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var o=e();if(Ts){hn(!0);try{e()}finally{hn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=an();if(a!==void 0){var h=a(i);if(Ts){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=U0.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=af(e);var i=e.queue,a=op.bind(null,Dt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:lf,useDeferredValue:function(e,i){var a=an();return uf(a,e,i)},useTransition:function(){var e=af(!1);return e=np.bind(null,Dt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Dt,h=an();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(zt&124)!==0||Og(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Kg(Mg.bind(null,o,f,e),[e]),o.flags|=2048,pa(9,Nu(),Vg.bind(null,o,f,a,i),null),a},useId:function(){var e=an(),i=ee.identifierPrefix;if(qt){var a=Vi,o=Oi;a=(o&~(1<<32-Ye(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Iu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=N0++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:hf,useFormState:qg,useActionState:qg,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ff.bind(null,Dt,!0,a),a.dispatch=i,[e,i]},useMemoCache:nf,useCacheRefresh:function(){return an().memoizedState=x0.bind(null,Dt)}},hp={readContext:Xe,use:Cu,useCallback:Wg,useContext:Xe,useEffect:Yg,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:tp,useReducer:Du,useRef:Qg,useState:function(){return Du(xi)},useDebugValue:lf,useDeferredValue:function(e,i){var a=Se();return ep(a,Zt.memoizedState,e,i)},useTransition:function(){var e=Du(xi)[0],i=Se().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Ng,useId:sp,useHostTransitionStatus:hf,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,i){var a=Se();return Ug(a,Zt,e,i)},useMemoCache:nf,useCacheRefresh:ap},k0={readContext:Xe,use:Cu,useCallback:Wg,useContext:Xe,useEffect:Yg,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:tp,useReducer:sf,useRef:Qg,useState:function(){return sf(xi)},useDebugValue:lf,useDeferredValue:function(e,i){var a=Se();return Zt===null?uf(a,e,i):ep(a,Zt.memoizedState,e,i)},useTransition:function(){var e=sf(xi)[0],i=Se().memoizedState;return[typeof e=="boolean"?e:jo(e),i]},useSyncExternalStore:Ng,useId:sp,useHostTransitionStatus:hf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,i){var a=Se();return Zt!==null?Ug(a,Zt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nf,useCacheRefresh:ap},ya=null,Ho=0;function Pu(e){var i=Ho;return Ho+=1,ya===null&&(ya=[]),Ag(ya,e,i)}function Fo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function xu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function fp(e){var i=e._init;return i(e._payload)}function dp(e){function i(P,N){if(e){var k=P.deletions;k===null?(P.deletions=[N],P.flags|=16):k.push(N)}}function a(P,N){if(!e)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function o(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Ni(P,N),P.index=0,P.sibling=null,P}function f(P,N,k){return P.index=k,e?(k=P.alternate,k!==null?(k=k.index,k<N?(P.flags|=67108866,N):k):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,N,k,G){return N===null||N.tag!==6?(N=Vh(k,P.mode,G),N.return=P,N):(N=h(N,k),N.return=P,N)}function R(P,N,k,G){var ot=k.type;return ot===Z?F(P,N,k.props.children,G,k.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&fp(ot)===N.type)?(N=h(N,k.props),Fo(N,k),N.return=P,N):(N=yu(k.type,k.key,k.props,null,P.mode,G),Fo(N,k),N.return=P,N)}function L(P,N,k,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Mh(k,P.mode,G),N.return=P,N):(N=h(N,k.children||[]),N.return=P,N)}function F(P,N,k,G,ot){return N===null||N.tag!==7?(N=ds(k,P.mode,G,ot),N.return=P,N):(N=h(N,k),N.return=P,N)}function Q(P,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vh(""+N,P.mode,k),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return k=yu(N.type,N.key,N.props,null,P.mode,k),Fo(k,N),k.return=P,k;case q:return N=Mh(N,P.mode,k),N.return=P,N;case S:var G=N._init;return N=G(N._payload),Q(P,N,k)}if(ie(N)||x(N))return N=ds(N,P.mode,k,null),N.return=P,N;if(typeof N.then=="function")return Q(P,Pu(N),k);if(N.$$typeof===it)return Q(P,Tu(P,N),k);xu(P,N)}return null}function z(P,N,k,G){var ot=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(P,N,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return k.key===ot?R(P,N,k,G):null;case q:return k.key===ot?L(P,N,k,G):null;case S:return ot=k._init,k=ot(k._payload),z(P,N,k,G)}if(ie(k)||x(k))return ot!==null?null:F(P,N,k,G,null);if(typeof k.then=="function")return z(P,N,Pu(k),G);if(k.$$typeof===it)return z(P,N,Tu(P,k),G);xu(P,k)}return null}function j(P,N,k,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return P=P.get(k)||null,E(N,P,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return P=P.get(G.key===null?k:G.key)||null,R(N,P,G,ot);case q:return P=P.get(G.key===null?k:G.key)||null,L(N,P,G,ot);case S:var Ot=G._init;return G=Ot(G._payload),j(P,N,k,G,ot)}if(ie(G)||x(G))return P=P.get(k)||null,F(N,P,G,ot,null);if(typeof G.then=="function")return j(P,N,k,Pu(G),ot);if(G.$$typeof===it)return j(P,N,k,Tu(N,G),ot);xu(N,G)}return null}function vt(P,N,k,G){for(var ot=null,Ot=null,ct=N,gt=N=0,Le=null;ct!==null&&gt<k.length;gt++){ct.index>gt?(Le=ct,ct=null):Le=ct.sibling;var Bt=z(P,ct,k[gt],G);if(Bt===null){ct===null&&(ct=Le);break}e&&ct&&Bt.alternate===null&&i(P,ct),N=f(Bt,N,gt),Ot===null?ot=Bt:Ot.sibling=Bt,Ot=Bt,ct=Le}if(gt===k.length)return a(P,ct),qt&&gs(P,gt),ot;if(ct===null){for(;gt<k.length;gt++)ct=Q(P,k[gt],G),ct!==null&&(N=f(ct,N,gt),Ot===null?ot=ct:Ot.sibling=ct,Ot=ct);return qt&&gs(P,gt),ot}for(ct=o(ct);gt<k.length;gt++)Le=j(ct,P,gt,k[gt],G),Le!==null&&(e&&Le.alternate!==null&&ct.delete(Le.key===null?gt:Le.key),N=f(Le,N,gt),Ot===null?ot=Le:Ot.sibling=Le,Ot=Le);return e&&ct.forEach(function(Rr){return i(P,Rr)}),qt&&gs(P,gt),ot}function mt(P,N,k,G){if(k==null)throw Error(s(151));for(var ot=null,Ot=null,ct=N,gt=N=0,Le=null,Bt=k.next();ct!==null&&!Bt.done;gt++,Bt=k.next()){ct.index>gt?(Le=ct,ct=null):Le=ct.sibling;var Rr=z(P,ct,Bt.value,G);if(Rr===null){ct===null&&(ct=Le);break}e&&ct&&Rr.alternate===null&&i(P,ct),N=f(Rr,N,gt),Ot===null?ot=Rr:Ot.sibling=Rr,Ot=Rr,ct=Le}if(Bt.done)return a(P,ct),qt&&gs(P,gt),ot;if(ct===null){for(;!Bt.done;gt++,Bt=k.next())Bt=Q(P,Bt.value,G),Bt!==null&&(N=f(Bt,N,gt),Ot===null?ot=Bt:Ot.sibling=Bt,Ot=Bt);return qt&&gs(P,gt),ot}for(ct=o(ct);!Bt.done;gt++,Bt=k.next())Bt=j(ct,P,gt,Bt.value,G),Bt!==null&&(e&&Bt.alternate!==null&&ct.delete(Bt.key===null?gt:Bt.key),N=f(Bt,N,gt),Ot===null?ot=Bt:Ot.sibling=Bt,Ot=Bt);return e&&ct.forEach(function(LA){return i(P,LA)}),qt&&gs(P,gt),ot}function Wt(P,N,k,G){if(typeof k=="object"&&k!==null&&k.type===Z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case D:t:{for(var ot=k.key;N!==null;){if(N.key===ot){if(ot=k.type,ot===Z){if(N.tag===7){a(P,N.sibling),G=h(N,k.props.children),G.return=P,P=G;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&fp(ot)===N.type){a(P,N.sibling),G=h(N,k.props),Fo(G,k),G.return=P,P=G;break t}a(P,N);break}else i(P,N);N=N.sibling}k.type===Z?(G=ds(k.props.children,P.mode,G,k.key),G.return=P,P=G):(G=yu(k.type,k.key,k.props,null,P.mode,G),Fo(G,k),G.return=P,P=G)}return v(P);case q:t:{for(ot=k.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(P,N.sibling),G=h(N,k.children||[]),G.return=P,P=G;break t}else{a(P,N);break}else i(P,N);N=N.sibling}G=Mh(k,P.mode,G),G.return=P,P=G}return v(P);case S:return ot=k._init,k=ot(k._payload),Wt(P,N,k,G)}if(ie(k))return vt(P,N,k,G);if(x(k)){if(ot=x(k),typeof ot!="function")throw Error(s(150));return k=ot.call(k),mt(P,N,k,G)}if(typeof k.then=="function")return Wt(P,N,Pu(k),G);if(k.$$typeof===it)return Wt(P,N,Tu(P,k),G);xu(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(P,N.sibling),G=h(N,k),G.return=P,P=G):(a(P,N),G=Vh(k,P.mode,G),G.return=P,P=G),v(P)):a(P,N)}return function(P,N,k,G){try{Ho=0;var ot=Wt(P,N,k,G);return ya=null,ot}catch(ct){if(ct===Po||ct===Su)throw ct;var Ot=mn(29,ct,null,P.mode);return Ot.lanes=G,Ot.return=P,Ot}finally{}}}var _a=dp(!0),mp=dp(!1),On=$(null),si=null;function cr(e){var i=e.alternate;W(Oe,Oe.current&1),W(On,e),si===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(si=e)}function gp(e){if(e.tag===22){if(W(Oe,Oe.current),W(On,e),si===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(si=e)}}else hr()}function hr(){W(Oe,Oe.current),W(On,On.current)}function Ui(e){rt(On),si===e&&(si=null),rt(Oe)}var Oe=$(0);function Uu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||nd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function df(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=_n(),h=or(o);h.payload=i,a!=null&&(h.callback=a),i=lr(e,h,o),i!==null&&(vn(i,e,o),Uo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=_n(),h=or(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=lr(e,h,o),i!==null&&(vn(i,e,o),Uo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=_n(),o=or(a);o.tag=2,i!=null&&(o.callback=i),i=lr(e,o,a),i!==null&&(vn(i,e,a),Uo(i,e,a))}};function pp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!wo(a,o)||!wo(h,f):!0}function yp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&mf.enqueueReplaceState(i,i.state,null)}function As(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _p(e){ku(e)}function vp(e){console.error(e)}function Ep(e){ku(e)}function Lu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Tp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gf(e,i,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(e,i)},a}function Ap(e){return e=or(e),e.tag=3,e}function Sp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Tp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Tp(i,a,o),typeof h!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function L0(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Oo(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return si===null?zf():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Hh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Bf(e,o,h)),!1;case 22:return a.flags|=65536,o===Hh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Bf(e,o,h)),!1}throw Error(s(435,a.tag))}return Bf(e,o,h),zf(),!1}if(qt)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Uh&&(e=Error(s(422),{cause:o}),No(In(e,a)))):(o!==Uh&&(i=Error(s(423),{cause:o}),No(In(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,a),h=gf(e.stateNode,o,h),Qh(e,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:o});if(f=In(f,a),Zo===null?Zo=[f]:Zo.push(f),he!==4&&(he=2),i===null)return!0;o=In(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=gf(a.stateNode,o,e),Qh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(yr===null||!yr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ap(h),Sp(h,e,a,o),Qh(a,h),!1}a=a.return}while(a!==null);return!1}var bp=Error(s(461)),Ue=!1;function qe(e,i,a,o){i.child=e===null?mp(i,null,a,o):_a(i,e.child,a,o)}function Rp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return vs(i),o=Zh(e,i,a,v,f,h),E=Jh(),e!==null&&!Ue?(Wh(e,i,h),ki(e,i,h)):(qt&&E&&Ph(i),i.flags|=1,qe(e,i,o,h),i.child)}function wp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Ip(e,i,f,o,h)):(e=yu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Sf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(v,o)&&e.ref===i.ref)return ki(e,i,h)}return i.flags|=1,e=Ni(f,o),e.ref=i.ref,e.return=i,i.child=e}function Ip(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(wo(f,o)&&e.ref===i.ref)if(Ue=!1,i.pendingProps=o=f,Sf(e,h))(e.flags&131072)!==0&&(Ue=!0);else return i.lanes=e.lanes,ki(e,i,h)}return pf(e,i,a,o,h)}function Cp(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Dp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(i,f!==null?f.cachePool:null),f!==null?Ig(i,f):Yh(),gp(i);else return i.lanes=i.childLanes=536870912,Dp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Au(i,f.cachePool),Ig(i,f),hr(),i.memoizedState=null):(e!==null&&Au(i,null),Yh(),hr());return qe(e,i,h,a),i.child}function Dp(e,i,a,o){var h=qh();return h=h===null?null:{parent:Ne._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Au(i,null),Yh(),gp(i),e!==null&&Oo(e,i,o,!0),null}function zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function pf(e,i,a,o,h){return vs(i),a=Zh(e,i,a,o,void 0,h),o=Jh(),e!==null&&!Ue?(Wh(e,i,h),ki(e,i,h)):(qt&&o&&Ph(i),i.flags|=1,qe(e,i,a,h),i.child)}function Np(e,i,a,o,h,f){return vs(i),i.updateQueue=null,a=Dg(i,o,a,h),Cg(e),o=Jh(),e!==null&&!Ue?(Wh(e,i,f),ki(e,i,f)):(qt&&o&&Ph(i),i.flags|=1,qe(e,i,a,f),i.child)}function Op(e,i,a,o,h){if(vs(i),i.stateNode===null){var f=la,v=a.contextType;typeof v=="object"&&v!==null&&(f=Xe(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Fh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Xe(v):la,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(df(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&mf.enqueueReplaceState(f,f.state,null),Lo(i,o,f,h),ko(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,R=As(a,E);f.props=R;var L=f.context,F=a.contextType;v=la,typeof F=="object"&&F!==null&&(v=Xe(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&yp(i,f,o,v),ar=!1;var z=i.memoizedState;f.state=z,Lo(i,o,f,h),ko(),L=i.memoizedState,E||z!==L||ar?(typeof Q=="function"&&(df(i,a,Q,o),L=i.memoizedState),(R=ar||pp(i,a,R,o,z,L,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=R):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Gh(e,i),v=i.memoizedProps,F=As(a,v),f.props=F,Q=i.pendingProps,z=f.context,L=a.contextType,R=la,typeof L=="object"&&L!==null&&(R=Xe(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==R)&&yp(i,f,o,R),ar=!1,z=i.memoizedState,f.state=z,Lo(i,o,f,h),ko();var j=i.memoizedState;v!==Q||z!==j||ar||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(df(i,a,E,o),j=i.memoizedState),(F=ar||pp(i,a,F,o,z,j,R)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,zu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=_a(i,e.child,null,h),i.child=_a(i,null,a,h)):qe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=ki(e,i,h),e}function Vp(e,i,a,o){return Do(),i.flags|=256,qe(e,i,a,o),i.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:vg()}}function vf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vn),e}function Mp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?cr(i):hr(),qt){var E=ce,R;if(R=E){t:{for(R=E,E=ri;R.nodeType!==8;){if(!E){E=null;break t}if(R=qn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(i.memoizedState={dehydrated:E,treeContext:ms!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},R=mn(18,null,null,0),R.stateNode=E,R.return=i,i.child=R,sn=i,ce=null,R=!0):R=!1}R||ys(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return nd(E)?i.lanes=32:i.lanes=536870912,null;Ui(i)}return E=o.children,o=o.fallback,h?(hr(),h=i.mode,E=ju({mode:"hidden",children:E},h),o=ds(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=_f(a),h.childLanes=vf(e,v,a),i.memoizedState=yf,o):(cr(i),Ef(i,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)i.flags&256?(cr(i),i.flags&=-257,i=Tf(e,i,a)):i.memoizedState!==null?(hr(),i.child=e.child,i.flags|=128,i=null):(hr(),h=o.fallback,E=i.mode,o=ju({mode:"visible",children:o.children},E),h=ds(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,_a(i,e.child,null,a),o=i.child,o.memoizedState=_f(a),o.childLanes=vf(e,v,a),i.memoizedState=yf,i=h);else if(cr(i),nd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,No({value:o,source:null,stack:null}),i=Tf(e,i,a)}else if(Ue||Oo(e,i,a,!1),v=(a&e.childLanes)!==0,Ue||v){if(v=ee,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ji(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,oa(e,o),vn(v,e,o),bp;E.data==="$?"||zf(),i=Tf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ce=qn(E.nextSibling),sn=i,qt=!0,ps=null,ri=!1,e!==null&&(Dn[Nn++]=Oi,Dn[Nn++]=Vi,Dn[Nn++]=ms,Oi=e.id,Vi=e.overflow,ms=i),i=Ef(i,o.children),i.flags|=4096);return i}return h?(hr(),h=o.fallback,E=i.mode,R=e.child,L=R.sibling,o=Ni(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,L!==null?h=Ni(L,h):(h=ds(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=_f(a):(R=E.cachePool,R!==null?(L=Ne._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=vg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=vf(e,v,a),i.memoizedState=yf,o):(cr(i),a=e.child,e=a.sibling,a=Ni(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Ef(e,i){return i=ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ju(e,i){return e=mn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tf(e,i,a){return _a(i,e.child,null,a),e=Ef(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Pp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Lh(e.return,i,a)}function Af(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function xp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(qe(e,i,o.children,a),o=Oe.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pp(e,a,i);else if(e.tag===19)Pp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Oe,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Uu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Af(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Af(i,!0,a,null,f);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),pr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ni(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ni(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Sf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function z0(e,i,a){switch(i.tag){case 3:Xt(i,i.stateNode.containerInfo),sr(i,Ne,e.memoizedState.cache),Do();break;case 27:case 5:Et(i);break;case 4:Xt(i,i.stateNode.containerInfo);break;case 10:sr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Mp(e,i,a):(cr(i),e=ki(e,i,a),e!==null?e.sibling:null);cr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Oo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return xp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Oe,Oe.current),o)break;return null;case 22:case 23:return i.lanes=0,Cp(e,i,a);case 24:sr(i,Ne,e.memoizedState.cache)}return ki(e,i,a)}function Up(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ue=!0;else{if(!Sf(e,a)&&(i.flags&128)===0)return Ue=!1,z0(e,i,a);Ue=(e.flags&131072)!==0}else Ue=!1,qt&&(i.flags&1048576)!==0&&fg(i,vu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Oh(o)?(e=As(o,e),i.tag=1,i=Op(null,i,o,e,a)):(i.tag=0,i=pf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===At){i.tag=11,i=Rp(null,i,o,e,a);break t}else if(h===O){i.tag=14,i=wp(null,i,o,e,a);break t}}throw i=pe(o)||o,Error(s(306,i,""))}}return i;case 0:return pf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=As(o,i.pendingProps),Op(e,i,o,h,a);case 3:t:{if(Xt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Gh(e,i),Lo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,sr(i,Ne,o),o!==f.cache&&zh(i,[Ne],a,!0),ko(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Vp(e,i,o,a);break t}else if(o!==h){h=In(Error(s(424)),i),No(h),i=Vp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=qn(e.firstChild),sn=i,qt=!0,ps=null,ri=!0,a=mp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),o===h){i=ki(e,i,a);break t}qe(e,i,o,a)}i=i.child}return i;case 26:return zu(e,i),e===null?(a=jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,o=tc(pt.current).createElement(a),o[Ie]=i,o[Ee]=e,Fe(o,a,e),fe(o),i.stateNode=o):i.memoizedState=jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Et(i),e===null&&qt&&(o=i.stateNode=ky(i.type,i.pendingProps,pt.current),sn=i,ri=!0,h=ce,Er(i.type)?(id=h,ce=qn(o.firstChild)):ce=h),qe(e,i,i.pendingProps.children,a),zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=o=ce)&&(o=dA(o,i.type,i.pendingProps,ri),o!==null?(i.stateNode=o,sn=i,ce=qn(o.firstChild),ri=!1,h=!0):h=!1),h||ys(i)),Et(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Wf(h,f)?o=null:v!==null&&Wf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Zh(e,i,O0,null,null,a),al._currentValue=h),zu(e,i),qe(e,i,o,a),i.child;case 6:return e===null&&qt&&((e=a=ce)&&(a=mA(a,i.pendingProps,ri),a!==null?(i.stateNode=a,sn=i,ce=null,e=!0):e=!1),e||ys(i)),null;case 13:return Mp(e,i,a);case 4:return Xt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=_a(i,null,o,a):qe(e,i,o,a),i.child;case 11:return Rp(e,i,i.type,i.pendingProps,a);case 7:return qe(e,i,i.pendingProps,a),i.child;case 8:return qe(e,i,i.pendingProps.children,a),i.child;case 12:return qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,sr(i,i.type,o.value),qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,vs(i),h=Xe(h),o=o(h),i.flags|=1,qe(e,i,o,a),i.child;case 14:return wp(e,i,i.type,i.pendingProps,a);case 15:return Ip(e,i,i.type,i.pendingProps,a);case 19:return xp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=ju(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Cp(e,i,a);case 24:return vs(i),o=Xe(Ne),e===null?(h=qh(),h===null&&(h=ee,f=jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},Fh(i),sr(i,Ne,h)):((e.lanes&a)!==0&&(Gh(e,i),Lo(i,null,null,a),ko()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),sr(i,Ne,o)):(o=f.cache,sr(i,Ne,o),o!==h.cache&&zh(i,[Ne],a,!0))),qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Li(e){e.flags|=4}function kp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(i)){if(i=On.current,i!==null&&((zt&4194048)===zt?si!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==si))throw xo=Hh,Eg;e.flags|=8192}}function Bu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?oo():536870912,e.lanes|=i,Aa|=i)}function Go(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function j0(e,i,a){var o=i.pendingProps;switch(xh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(Ne),En(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?Li(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gg())),oe(i),null;case 26:return a=i.memoizedState,e===null?(Li(i),a!==null?(oe(i),kp(i,a)):(oe(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Li(i),oe(i),kp(i,a)):(oe(i),i.flags&=-16777217):(e.memoizedProps!==o&&Li(i),oe(i),i.flags&=-16777217),null;case 27:It(i),a=pt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=ut.current,Co(i)?dg(i):(e=ky(h,o,a),i.stateNode=e,Li(i))}return oe(i),null;case 5:if(It(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Li(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(e=ut.current,Co(i))dg(i);else{switch(h=tc(pt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ie]=i,e[Ee]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Fe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(i)}}return oe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Li(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=pt.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Ny(e.nodeValue,a)),e||ys(i)}else e=tc(e).createTextNode(o),e[Ie]=i,i.stateNode=e}return oe(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Bu(i,i.updateQueue),oe(i),null;case 4:return En(),e===null&&Yf(i.stateNode.containerInfo),oe(i),null;case 10:return Pi(i.type),oe(i),null;case 19:if(rt(Oe),h=i.memoizedState,h===null)return oe(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)Go(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Uu(e),f!==null){for(i.flags|=128,Go(h,!1),e=f.updateQueue,i.updateQueue=e,Bu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)hg(a,e),a=a.sibling;return W(Oe,Oe.current&1|2),i.child}e=e.sibling}h.tail!==null&&Tn()>Fu&&(i.flags|=128,o=!0,Go(h,!1),i.lanes=4194304)}else{if(!o)if(e=Uu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Bu(i,e),Go(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!qt)return oe(i),null}else 2*Tn()-h.renderingStartTime>Fu&&a!==536870912&&(i.flags|=128,o=!0,Go(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Tn(),i.sibling=null,e=Oe.current,W(Oe,o?e&1|2:e&1),i):(oe(i),null);case 22:case 23:return Ui(i),Xh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Bu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&rt(Es),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(Ne),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function B0(e,i){switch(xh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(Ne),En(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return It(i),null;case 13:if(Ui(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return rt(Oe),null;case 4:return En(),null;case 10:return Pi(i.type),null;case 22:case 23:return Ui(i),Xh(),e!==null&&rt(Es),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(Ne),null;case 25:return null;default:return null}}function Lp(e,i){switch(xh(i),i.tag){case 3:Pi(Ne),En();break;case 26:case 27:case 5:It(i);break;case 4:En();break;case 13:Ui(i);break;case 19:rt(Oe);break;case 10:Pi(i.type);break;case 22:case 23:Ui(i),Xh(),e!==null&&rt(Es);break;case 24:Pi(Ne)}}function Qo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){te(i,i.return,E)}}function fr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var R=a,L=E;try{L()}catch(F){te(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){te(i,i.return,F)}}function zp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{wg(i,a)}catch(o){te(e,e.return,o)}}}function jp(e,i,a){a.props=As(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){te(e,i,o)}}function Ko(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){te(e,i,h)}}function ai(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){te(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,i,h)}else a.current=null}function Bp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function bf(e,i,a){try{var o=e.stateNode;lA(o,e.type,a,i),o[Ee]=i}catch(h){te(e,e.return,h)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Er(e.type)||e.tag===4}function Rf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Er(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wu));else if(o!==4&&(o===27&&Er(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(wf(e,i,a),e=e.sibling;e!==null;)wf(e,i,a),e=e.sibling}function qu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Er(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(qu(e,i,a),e=e.sibling;e!==null;)qu(e,i,a),e=e.sibling}function Hp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,o,a),i[Ie]=e,i[Ee]=a}catch(f){te(e,e.return,f)}}var zi=!1,me=!1,If=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function q0(e,i){if(e=e.containerInfo,Zf=ac,e=eg(e),bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,L=0,F=0,Q=e,z=null;e:for(;;){for(var j;Q!==a||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||o!==0&&Q.nodeType!==3||(R=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===a&&++L===h&&(E=v),z===f&&++F===o&&(R=v),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jf={focusedElem:e,selectionRange:a},ac=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var vt=As(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){te(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ed(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function Gp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:dr(e,a),o&4&&Qo(5,a);break;case 1:if(dr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){te(a,a.return,v)}else{var h=As(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){te(a,a.return,v)}}o&64&&zp(a),o&512&&Ko(a,a.return);break;case 3:if(dr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(e,i)}catch(v){te(a,a.return,v)}}break;case 27:i===null&&o&4&&Hp(a);case 26:case 5:dr(e,a),i===null&&o&4&&Bp(a),o&512&&Ko(a,a.return);break;case 12:dr(e,a);break;case 13:dr(e,a),o&4&&Yp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Z0.bind(null,a),gA(e,a))));break;case 22:if(o=a.memoizedState!==null||zi,!o){i=i!==null&&i.memoizedState!==null||me,h=zi;var f=me;zi=o,(me=i)&&!f?mr(e,a,(a.subtreeFlags&8772)!==0):dr(e,a),zi=h,me=f}break;case 30:break;default:dr(e,a)}}function Qp(e){var i=e.alternate;i!==null&&(e.alternate=null,Qp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&er(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,on=!1;function ji(e,i,a){for(a=a.child;a!==null;)Kp(e,i,a),a=a.sibling}function Kp(e,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||ai(a,i),ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ai(a,i);var o=ae,h=on;Er(a.type)&&(ae=a.stateNode,on=!1),ji(e,i,a),nl(a.stateNode),ae=o,on=h;break;case 5:me||ai(a,i);case 6:if(o=ae,h=on,ae=null,ji(e,i,a),ae=o,on=h,ae!==null)if(on)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){te(a,i,f)}else try{ae.removeChild(a.stateNode)}catch(f){te(a,i,f)}break;case 18:ae!==null&&(on?(e=ae,xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cl(e)):xy(ae,a.stateNode));break;case 4:o=ae,h=on,ae=a.stateNode.containerInfo,on=!0,ji(e,i,a),ae=o,on=h;break;case 0:case 11:case 14:case 15:me||fr(2,a,i),me||fr(4,a,i),ji(e,i,a);break;case 1:me||(ai(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&jp(a,i,o)),ji(e,i,a);break;case 21:ji(e,i,a);break;case 22:me=(o=me)||a.memoizedState!==null,ji(e,i,a),me=o;break;default:ji(e,i,a)}}function Yp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(a){te(i,i.return,a)}}function H0(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Fp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Fp),i;default:throw Error(s(435,e.tag))}}function Cf(e,i){var a=H0(e);i.forEach(function(o){var h=J0.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function gn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Er(E.type)){ae=E.stateNode,on=!1;break t}break;case 5:ae=E.stateNode,on=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ae===null)throw Error(s(160));Kp(f,v,h),ae=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xp(i,e),i=i.sibling}var Bn=null;function Xp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(i,e),pn(e),o&4&&(fr(3,e,e.return),Qo(3,e),fr(5,e,e.return));break;case 1:gn(i,e),pn(e),o&512&&(me||a===null||ai(a,a.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Bn;if(gn(i,e),pn(e),o&512&&(me||a===null||ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Zr]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Ie]=e,fe(f),o=f;break t;case"link":var v=Hy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(v=Hy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ie]=e,fe(f),o=f}e.stateNode=o}else Fy(h,e.type,e.stateNode);else e.stateNode=qy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Fy(h,e.type,e.stateNode):qy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&bf(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(i,e),pn(e),o&512&&(me||a===null||ai(a,a.return)),a!==null&&o&4&&bf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,e),pn(e),o&512&&(me||a===null||ai(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(j){te(e,e.return,j)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,bf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(If=!0);break;case 6:if(gn(i,e),pn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){te(e,e.return,j)}}break;case 3:if(ic=null,h=Bn,Bn=ec(i.containerInfo),gn(i,e),Bn=h,pn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(j){te(e,e.return,j)}If&&(If=!1,$p(e));break;case 4:o=Bn,Bn=ec(e.stateNode.containerInfo),gn(i,e),pn(e),Bn=o;break;case 12:gn(i,e),pn(e);break;case 13:gn(i,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pf=Tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,L=zi,F=me;if(zi=L||h,me=F||R,gn(i,e),me=F,zi=L,pn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||zi||me||Ss(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(f=R.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){te(R,R.return,j)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(j){te(R,R.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Cf(e,a))));break;case 19:gn(i,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 30:break;case 21:break;default:gn(i,e),pn(e)}}function pn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(qp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Rf(e);qu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var E=Rf(e);qu(e,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,L=Rf(e);wf(e,L,R);break;default:throw Error(s(161))}}catch(F){te(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;$p(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function dr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Gp(e,i.alternate,i),i=i.sibling}function Ss(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:fr(4,i,i.return),Ss(i);break;case 1:ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jp(i,i.return,a),Ss(i);break;case 27:nl(i.stateNode);case 26:case 5:ai(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}e=e.sibling}}function mr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:mr(h,f,a),Qo(4,f);break;case 1:if(mr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){te(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Rg(R[h],E)}catch(L){te(o,o.return,L)}}a&&v&64&&zp(f),Ko(f,f.return);break;case 27:Hp(f);case 26:case 5:mr(h,f,a),a&&o===null&&v&4&&Bp(f),Ko(f,f.return);break;case 12:mr(h,f,a);break;case 13:mr(h,f,a),a&&v&4&&Yp(h,f);break;case 22:f.memoizedState===null&&mr(h,f,a),Ko(f,f.return);break;case 30:break;default:mr(h,f,a)}i=i.sibling}}function Df(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vo(a))}function Nf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e))}function oi(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zp(e,i,a,o),i=i.sibling}function Zp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(e,i,a,o),h&2048&&Qo(9,i);break;case 1:oi(e,i,a,o);break;case 3:oi(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){oi(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(i,i.return,R)}}else oi(e,i,a,o);break;case 13:oi(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?oi(e,i,a,o):Yo(e,i):f._visibility&2?oi(e,i,a,o):(f._visibility|=2,va(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Df(v,i);break;case 24:oi(e,i,a,o),h&2048&&Nf(i.alternate,i);break;default:oi(e,i,a,o)}}function va(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,R=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:va(f,v,E,R,h),Qo(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?va(f,v,E,R,h):Yo(f,v):(F._visibility|=2,va(f,v,E,R,h)),h&&L&2048&&Df(v.alternate,v);break;case 24:va(f,v,E,R,h),h&&L&2048&&Nf(v.alternate,v);break;default:va(f,v,E,R,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Yo(a,o),h&2048&&Df(o.alternate,o);break;case 24:Yo(a,o),h&2048&&Nf(o.alternate,o);break;default:Yo(a,o)}i=i.sibling}}var Xo=8192;function Ea(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)Jp(e),e=e.sibling}function Jp(e){switch(e.tag){case 26:Ea(e),e.flags&Xo&&e.memoizedState!==null&&CA(Bn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var i=Bn;Bn=ec(e.stateNode.containerInfo),Ea(e),Bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,Ea(e),Xo=i):Ea(e));break;default:Ea(e)}}function Wp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $o(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,ey(o,e)}Wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&fr(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Hu(e)):$o(e);break;default:$o(e)}}function Hu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];ke=o,ey(o,e)}Wp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:fr(8,i,i.return),Hu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Hu(i));break;default:Hu(i)}e=e.sibling}}function ey(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:fr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Qp(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var F0={getCacheForType:function(e){var i=Xe(Ne),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},G0=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Vt=null,zt=0,Yt=0,yn=null,gr=!1,Ta=!1,Of=!1,Bi=0,he=0,pr=0,bs=0,Vf=0,Vn=0,Aa=0,Zo=null,ln=null,Mf=!1,Pf=0,Fu=1/0,Gu=null,yr=null,He=0,_r=null,Sa=null,ba=0,xf=0,Uf=null,ny=null,Jo=0,kf=null;function _n(){if((Kt&2)!==0&&zt!==0)return zt&-zt;if(H.T!==null){var e=ha;return e!==0?e:Ff()}return Wi()}function iy(){Vn===0&&(Vn=(zt&536870912)===0||qt?ao():536870912);var e=On.current;return e!==null&&(e.flags|=32),Vn}function vn(e,i,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),vr(e,zt,Vn,!1)),vi(e,a),((Kt&2)===0||e!==ee)&&(e===ee&&((Kt&2)===0&&(bs|=a),he===4&&vr(e,zt,Vn,!1)),li(e))}function ry(e,i,a){if((Kt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||$r(e,i),h=o?Y0(e,i):jf(e,i,!0),f=o;do{if(h===0){Ta&&!o&&vr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!Q0(a)){h=jf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Zo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ra(E,v).flags|=256),v=jf(E,v,!1),v!==2){if(Of&&!R){E.errorRecoveryDisabledLanes|=f,bs|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),vr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:vr(o,i,Vn,!gr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Pf+300-Tn(),10<h)){if(vr(o,i,Vn,!gr),qs(o,0,!0)!==0)break t;o.timeoutHandle=My(sy.bind(null,o,a,ln,Gu,Mf,i,Vn,bs,Aa,gr,f,2,-0,0),h);break t}sy(o,a,ln,Gu,Mf,i,Vn,bs,Aa,gr,f,0,-0,0)}}break}while(!0);li(e)}function sy(e,i,a,o,h,f,v,E,R,L,F,Q,z,j){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:IA},Jp(i),Q=DA(),Q!==null)){e.cancelPendingCommit=Q(fy.bind(null,e,i,f,a,o,h,v,E,R,F,1,z,j)),vr(e,f,v,!L);return}fy(e,i,f,a,o,h,v,E,R)}function Q0(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vr(e,i,a,o){i&=~Vf,i&=~bs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Ye(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Kn(e,a,i)}function Qu(){return(Kt&6)===0?(Wo(0),!1):!0}function Lf(){if(Vt!==null){if(Yt===0)var e=Vt.return;else e=Vt,Mi=_s=null,tf(e),ya=null,Ho=0,e=Vt;for(;e!==null;)Lp(e.alternate,e),e=e.return;Vt=null}}function Ra(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Lf(),ee=e,Vt=a=Ni(e.current,null),zt=i,Yt=0,yn=null,gr=!1,Ta=$r(e,i),Of=!1,Aa=Vn=Vf=bs=pr=he=0,ln=Zo=null,Mf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ye(o),f=1<<h;i|=e[h],o&=~f}return Bi=i,mu(),a}function ay(e,i){Dt=null,H.H=Mu,i===Po||i===Su?(i=Sg(),Yt=3):i===Eg?(i=Sg(),Yt=4):Yt=i===bp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Vt===null&&(he=1,Lu(e,In(i,e.current)))}function oy(){var e=H.H;return H.H=Mu,e===null?Mu:e}function ly(){var e=H.A;return H.A=F0,e}function zf(){he=4,gr||(zt&4194048)!==zt&&On.current!==null||(Ta=!0),(pr&134217727)===0&&(bs&134217727)===0||ee===null||vr(ee,zt,Vn,!1)}function jf(e,i,a){var o=Kt;Kt|=2;var h=oy(),f=ly();(ee!==e||zt!==i)&&(Gu=null,Ra(e,i)),i=!1;var v=he;t:do try{if(Yt!==0&&Vt!==null){var E=Vt,R=yn;switch(Yt){case 8:Lf(),v=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var L=Yt;if(Yt=0,yn=null,wa(e,E,R,L),a&&Ta){v=0;break t}break;default:L=Yt,Yt=0,yn=null,wa(e,E,R,L)}}K0(),v=he;break}catch(F){ay(e,F)}while(!0);return i&&e.shellSuspendCounter++,Mi=_s=null,Kt=o,H.H=h,H.A=f,Vt===null&&(ee=null,zt=0,mu()),v}function K0(){for(;Vt!==null;)uy(Vt)}function Y0(e,i){var a=Kt;Kt|=2;var o=oy(),h=ly();ee!==e||zt!==i?(Gu=null,Fu=Tn()+500,Ra(e,i)):Ta=$r(e,i);t:do try{if(Yt!==0&&Vt!==null){i=Vt;var f=yn;e:switch(Yt){case 1:Yt=0,yn=null,wa(e,i,f,1);break;case 2:case 9:if(Tg(f)){Yt=0,yn=null,cy(i);break}i=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),li(e)},f.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Tg(f)?(Yt=0,yn=null,cy(i)):(Yt=0,yn=null,wa(e,i,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||Gy(v)){Yt=0,yn=null;var R=E.sibling;if(R!==null)Vt=R;else{var L=E.return;L!==null?(Vt=L,Ku(L)):Vt=null}break e}}Yt=0,yn=null,wa(e,i,f,5);break;case 6:Yt=0,yn=null,wa(e,i,f,6);break;case 8:Lf(),he=6;break t;default:throw Error(s(462))}}X0();break}catch(F){ay(e,F)}while(!0);return Mi=_s=null,H.H=o,H.A=h,Kt=a,Vt!==null?0:(ee=null,zt=0,mu(),he)}function X0(){for(;Vt!==null&&!Zi();)uy(Vt)}function uy(e){var i=Up(e.alternate,e,Bi);e.memoizedProps=e.pendingProps,i===null?Ku(e):Vt=i}function cy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Np(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Np(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:tf(i);default:Lp(a,i),i=Vt=hg(i,Bi),i=Up(a,i,Bi)}e.memoizedProps=e.pendingProps,i===null?Ku(e):Vt=i}function wa(e,i,a,o){Mi=_s=null,tf(i),ya=null,Ho=0;var h=i.return;try{if(L0(e,h,i,a,zt)){he=1,Lu(e,In(a,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;he=1,Lu(e,In(a,e.current)),Vt=null;return}i.flags&32768?(qt||o===1?e=!0:Ta||(zt&536870912)!==0?e=!1:(gr=e=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),hy(i,e)):Ku(i)}function Ku(e){var i=e;do{if((i.flags&32768)!==0){hy(i,gr);return}e=i.return;var a=j0(i.alternate,i,Bi);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);he===0&&(he=5)}function hy(e,i){do{var a=B0(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);he=6,Vt=null}function fy(e,i,a,o,h,f,v,E,R){e.cancelPendingCommit=null;do Yu();while(He!==0);if((Kt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Dh,lo(e,a,f,v,E,R),e===ee&&(Vt=ee=null,zt=0),Sa=i,_r=e,ba=a,xf=f,Uf=h,ny=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,W0(Qr,function(){return yy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,v=Kt,Kt|=4;try{q0(e,i,a)}finally{Kt=v,nt.p=h,H.T=o}}He=1,dy(),my(),gy()}}function dy(){if(He===1){He=0;var e=_r,i=Sa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Xp(i,e);var f=Jf,v=eg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&tg(E.ownerDocument.documentElement,E)){if(R!==null&&bh(E)){var L=R.start,F=R.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),vt=E.textContent.length,mt=Math.min(R.start,vt),Wt=R.end===void 0?mt:Math.min(R.end,vt);!j.extend&&mt>Wt&&(v=Wt,Wt=mt,mt=v);var P=Wm(E,mt),N=Wm(E,Wt);if(P&&N&&(j.rangeCount!==1||j.anchorNode!==P.node||j.anchorOffset!==P.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var k=Q.createRange();k.setStart(P.node,P.offset),j.removeAllRanges(),mt>Wt?(j.addRange(k),j.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),j.addRange(k))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ac=!!Zf,Jf=Zf=null}finally{Kt=h,nt.p=o,H.T=a}}e.current=i,He=2}}function my(){if(He===2){He=0;var e=_r,i=Sa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Kt;Kt|=4;try{Gp(e,i.alternate,i)}finally{Kt=h,nt.p=o,H.T=a}}He=3}}function gy(){if(He===4||He===3){He=0,zs();var e=_r,i=Sa,a=ba,o=ny;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,Sa=_r=null,py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(yr=null),Hs(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=i,nt.p=h}}(ba&3)!==0&&Yu(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===kf?Jo++:(Jo=0,kf=e):Jo=0,Wo(0)}}function py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Vo(i)))}function Yu(e){return dy(),my(),gy(),yy()}function yy(){if(He!==5)return!1;var e=_r,i=xf;xf=0;var a=Hs(ba),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=Uf,Uf=null;var f=_r,v=ba;if(He=0,Sa=_r=null,ba=0,(Kt&6)!==0)throw Error(s(331));var E=Kt;if(Kt|=4,ty(f.current),Zp(f,f.current,v,a),Kt=E,Wo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ue,f)}catch{}return!0}finally{nt.p=h,H.T=o,py(e,i)}}function _y(e,i,a){i=In(a,i),i=gf(e.stateNode,i,2),e=lr(e,i,2),e!==null&&(vi(e,2),li(e))}function te(e,i,a){if(e.tag===3)_y(e,e,a);else for(;i!==null;){if(i.tag===3){_y(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(yr===null||!yr.has(o))){e=In(a,e),a=Ap(2),o=lr(i,a,2),o!==null&&(Sp(a,o,i,e),vi(o,2),li(o));break}}i=i.return}}function Bf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new G0;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Of=!0,h.add(a),e=$0.bind(null,e,i,a),i.then(e,e))}function $0(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(zt&a)===a&&(he===4||he===3&&(zt&62914560)===zt&&300>Tn()-Pf?(Kt&2)===0&&Ra(e,0):Vf|=a,Aa===zt&&(Aa=0)),li(e)}function vy(e,i){i===0&&(i=oo()),e=oa(e,i),e!==null&&(vi(e,i),li(e))}function Z0(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),vy(e,a)}function J0(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),vy(e,a)}function W0(e,i){return ve(e,i)}var Xu=null,Ia=null,qf=!1,$u=!1,Hf=!1,Rs=0;function li(e){e!==Ia&&e.next===null&&(Ia===null?Xu=Ia=e:Ia=Ia.next=e),$u=!0,qf||(qf=!0,eA())}function Wo(e,i){if(!Hf&&$u){Hf=!0;do for(var a=!1,o=Xu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ye(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Sy(o,f))}else f=zt,f=qs(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$r(o,f)||(a=!0,Sy(o,f));o=o.next}while(a);Hf=!1}}function tA(){Ey()}function Ey(){$u=qf=!1;var e=0;Rs!==0&&(uA()&&(e=Rs),Rs=0);for(var i=Tn(),a=null,o=Xu;o!==null;){var h=o.next,f=Ty(o,i);f===0?(o.next=null,a===null?Xu=h:a.next=h,h===null&&(Ia=a)):(a=o,(e!==0||(f&3)!==0)&&($u=!0)),o=h}Wo(e)}function Ty(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ye(f),E=1<<v,R=h[v];R===-1?((E&a)===0||(E&o)!==0)&&(h[v]=so(E,i)):R<=i&&(e.expiredLanes|=E),f&=~E}if(i=ee,a=zt,a=qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Un(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||$r(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Un(o),Hs(a)){case 2:case 8:a=js;break;case 32:a=Qr;break;case 268435456:a=Bs;break;default:a=Qr}return o=Ay.bind(null,e),a=ve(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Un(o),e.callbackPriority=2,e.callbackNode=null,2}function Ay(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yu()&&e.callbackNode!==a)return null;var o=zt;return o=qs(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ry(e,o,i),Ty(e,Tn()),e.callbackNode!=null&&e.callbackNode===a?Ay.bind(null,e):null)}function Sy(e,i){if(Yu())return null;ry(e,i,!0)}function eA(){hA(function(){(Kt&6)!==0?ve(io,tA):Ey()})}function Ff(){return Rs===0&&(Rs=ao()),Rs}function by(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Ry(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function nA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=by((h[Ee]||null).action),v=o.submitter;v&&(i=(i=v[Ee]||null)?by(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new $s("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Rs!==0){var R=v?Ry(h,v):new FormData(h);cf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Ry(h,v):new FormData(h),cf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Gf=0;Gf<Ch.length;Gf++){var Qf=Ch[Gf],iA=Qf.toLowerCase(),rA=Qf[0].toUpperCase()+Qf.slice(1);jn(iA,"on"+rA)}jn(rg,"onAnimationEnd"),jn(sg,"onAnimationIteration"),jn(ag,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(T0,"onTransitionRun"),jn(A0,"onTransitionStart"),jn(S0,"onTransitionCancel"),jn(og,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function wy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){ku(F)}h.currentTarget=null,f=R}else for(v=0;v<o.length;v++){if(E=o[v],R=E.instance,L=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){ku(F)}h.currentTarget=null,f=R}}}}function Mt(e,i){var a=i[co];a===void 0&&(a=i[co]=new Set);var o=e+"__bubble";a.has(o)||(Iy(i,e,2,!1),a.add(o))}function Kf(e,i,a){var o=0;i&&(o|=4),Iy(a,e,o,i)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Zu]){e[Zu]=!0,ho.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||Kf(a,!1,e),Kf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Zu]||(i[Zu]=!0,Kf("selectionchange",!1,i))}}function Iy(e,i,a,o){switch(Zy(i)){case 2:var h=VA;break;case 8:h=MA;break;default:h=ld}a=h.bind(null,i,a,e),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Xf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ei(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Wl(function(){var L=f,F=bn(a),Q=[];t:{var z=lg.get(e);if(z!==void 0){var j=$s,vt=e;switch(e){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":j=na;break;case"focusin":vt="focus",j=Ws;break;case"focusout":vt="blur",j=Ws;break;case"beforeblur":case"afterblur":j=Ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=ou;break;case rg:case sg:case ag:j=ta;break;case og:j=uu;break;case"scroll":case"scrollend":j=tu;break;case"wheel":j=ia;break;case"copy":case"cut":case"paste":j=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=bo;break;case"toggle":case"beforetoggle":j=hu}var mt=(i&4)!==0,Wt=!mt&&(e==="scroll"||e==="scrollend"),P=mt?z!==null?z+"Capture":null:z;mt=[];for(var N=L,k;N!==null;){var G=N;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||P===null||(G=rs(N,P),G!=null&&mt.push(el(N,G,k))),Wt)break;N=N.return}0<mt.length&&(z=new j(z,vt,null,a,F),Q.push({event:z,listeners:mt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==bi&&(vt=a.relatedTarget||a.fromElement)&&(Ei(vt)||vt[An]))break t;if((j||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,j?(vt=a.relatedTarget||a.toElement,j=L,vt=vt?Ei(vt):null,vt!==null&&(Wt=c(vt),mt=vt.tag,vt!==Wt||mt!==5&&mt!==27&&mt!==6)&&(vt=null)):(j=null,vt=L),j!==vt)){if(mt=wn,G="onMouseLeave",P="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=bo,G="onPointerLeave",P="onPointerEnter",N="pointer"),Wt=j==null?z:Xn(j),k=vt==null?z:Xn(vt),z=new mt(G,N+"leave",j,a,F),z.target=Wt,z.relatedTarget=k,G=null,Ei(F)===L&&(mt=new mt(P,N+"enter",vt,a,F),mt.target=k,mt.relatedTarget=Wt,G=mt),Wt=G,j&&vt)e:{for(mt=j,P=vt,N=0,k=mt;k;k=Ca(k))N++;for(k=0,G=P;G;G=Ca(G))k++;for(;0<N-k;)mt=Ca(mt),N--;for(;0<k-N;)P=Ca(P),k--;for(;N--;){if(mt===P||P!==null&&mt===P.alternate)break e;mt=Ca(mt),P=Ca(P)}mt=null}else mt=null;j!==null&&Cy(Q,z,j,mt,!1),vt!==null&&Wt!==null&&Cy(Q,Wt,vt,mt,!0)}}t:{if(z=L?Xn(L):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var ot=Km;else if(De(z))if(Ym)ot=_0;else{ot=p0;var Ot=g0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&yo(L.elementType)&&(ot=Km):ot=y0;if(ot&&(ot=ot(e,L))){Di(Q,ot,a,F);break t}Ot&&Ot(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&ir(z,"number",z.value)}switch(Ot=L?Xn(L):window,e){case"focusin":(De(Ot)||Ot.contentEditable==="true")&&(ra=Ot,Rh=L,Io=null);break;case"focusout":Io=Rh=ra=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,ng(Q,a,F);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":ng(Q,a,F)}var ct;if(ni)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else kt?B(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(y&&a.locale!=="ko"&&(kt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&kt&&(ct=vo()):(Jn=F,rr="value"in Jn?Jn.value:Jn.textContent,kt=!0)),Ot=Ju(L,gt),0<Ot.length&&(gt=new Ao(gt,e,null,a,F),Q.push({event:gt,listeners:Ot}),ct?gt.data=ct:(ct=et(a),ct!==null&&(gt.data=ct)))),(ct=m?Ce(e,a):Lt(e,a))&&(gt=Ju(L,"onBeforeInput"),0<gt.length&&(Ot=new Ao("onBeforeInput","beforeinput",null,a,F),Q.push({event:Ot,listeners:gt}),Ot.data=ct)),nA(Q,e,L,a,F)}wy(Q,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ju(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=rs(e,a),h!=null&&o.unshift(el(e,h,f)),h=rs(e,i),h!=null&&o.push(el(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||L===null||(R=L,h?(L=rs(a,f),L!=null&&v.unshift(el(a,L,R))):h||(L=rs(a,f),L!=null&&v.push(el(a,L,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function Dy(e){return(typeof e=="string"?e:""+e).replace(aA,`
`).replace(oA,"")}function Ny(e,i){return i=Dy(i),Dy(e)===i}function Wu(){}function Jt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Sn(e,""+o);break;case"className":$n(e,"class",o);break;case"tabIndex":$n(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,o);break;case"style":po(e,o,f);break;case"data":if(i!=="object"){$n(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Xs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Xs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Wu);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),nr(e,"popover",o);break;case"xlinkActuate":je(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":je(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":je(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":je(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":je(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":je(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":je(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":je(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":je(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":nr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_h.get(a)||a,nr(e,a,o))}}function $f(e,i,a,o,h,f){switch(a){case"style":po(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[Ee]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):nr(e,a,o)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,f,v,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),o&&Jt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=f=v=h=null,R=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":L=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Jt(e,i,o,F,a,null)}}es(e,f,E,R,L,v,h,!1),Ys(e);return;case"select":Mt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Jt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Si(e,!!o,i,!1):a!=null&&Si(e,!!o,a,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Jt(e,i,v,E,a,null)}ns(e,o,h,f),Ys(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,i,R,o,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Mt(tl[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,L,o,a,null)}return;default:if(yo(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&$f(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,i,E,o,a,null))}function lA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,R=null,L=null,F=null;for(j in a){var Q=a[j];if(a.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(j)||Jt(e,i,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":F=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Q&&Jt(e,i,z,j,o,Q)}}fn(e,v,E,R,L,F,f,h);return;case"select":j=v=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||Jt(e,i,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Jt(e,i,h,f,o,R)}i=E,a=v,o=j,z!=null?Si(e,!!a,z,!1):!!o!=!!a&&(i!=null?Si(e,!!a,i,!0):Si(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Jt(e,i,v,h,o,f)}$t(e,z,j);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Jt(e,i,vt,null,o,z)}for(R in o)if(z=o[R],j=a[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,i,R,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Jt(e,i,mt,null,o,z);for(L in o)if(z=o[L],j=a[L],o.hasOwnProperty(L)&&z!==j&&(z!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Jt(e,i,L,z,o,j)}return;default:if(yo(i)){for(var Wt in a)z=a[Wt],a.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&$f(e,i,Wt,void 0,o,z);for(F in o)z=o[F],j=a[F],!o.hasOwnProperty(F)||z===j||z===void 0&&j===void 0||$f(e,i,F,z,o,j);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!o.hasOwnProperty(P)&&Jt(e,i,P,null,o,z);for(Q in o)z=o[Q],j=a[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Jt(e,i,Q,z,o,j)}var Zf=null,Jf=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function Oy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Wf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var td=null;function uA(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(e){return Py.resolve(null).then(e).catch(fA)}:My;function fA(e){setTimeout(function(){throw e})}function Er(e){return e==="head"}function xy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&nl(v.documentElement),a&2&&nl(v.body),a&4)for(a=v.head,nl(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Zr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),cl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);cl(i)}function ed(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ed(a),er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Zr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function mA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var id=null;function Uy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function ky(e,i,a){switch(i=tc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function nl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);er(e)}var Mn=new Map,Ly=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=nt.d;nt.d={f:pA,r:yA,D:_A,C:vA,L:EA,m:TA,X:SA,S:AA,M:bA};function pA(){var e=qi.f(),i=Qu();return e||i}function yA(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?rp(i):qi.r(e)}var Da=typeof document>"u"?null:document;function zy(e,i,a){var o=Da;if(o&&typeof i=="string"&&i){var h=Te(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Fe(i,"link",e),fe(i),o.head.appendChild(i)))}}function _A(e){qi.D(e),zy("dns-prefetch",e,null)}function vA(e,i){qi.C(e,i),zy("preconnect",e,i)}function EA(e,i,a){qi.L(e,i,a);var o=Da;if(o&&e&&i){var h='link[rel="preload"][as="'+Te(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Te(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Te(a.imageSizes)+'"]')):h+='[href="'+Te(e)+'"]';var f=h;switch(i){case"style":f=Na(e);break;case"script":f=Oa(e)}Mn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Mn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(il(f))||i==="script"&&o.querySelector(rl(f))||(i=o.createElement("link"),Fe(i,"link",e),fe(i),o.head.appendChild(i)))}}function TA(e,i){qi.m(e,i);var a=Da;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Te(o)+'"][href="'+Te(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oa(e)}if(!Mn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Mn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(f)))return}o=a.createElement("link"),Fe(o,"link",e),fe(o),a.head.appendChild(o)}}}function AA(e,i,a){qi.S(e,i,a);var o=Da;if(o&&e){var h=en(o).hoistableStyles,f=Na(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(il(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Mn.get(f))&&rd(e,a);var R=v=o.createElement("link");fe(R),Fe(R,"link",e),R._p=new Promise(function(L,F){R.onload=L,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function SA(e,i){qi.X(e,i);var a=Da;if(a&&e){var o=en(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(rl(h)),f||(e=A({src:e,async:!0},i),(i=Mn.get(h))&&sd(e,i),f=a.createElement("script"),fe(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bA(e,i){qi.M(e,i);var a=Da;if(a&&e){var o=en(a).hoistableScripts,h=Oa(e),f=o.get(h);f||(f=a.querySelector(rl(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Mn.get(h))&&sd(e,i),f=a.createElement("script"),fe(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jy(e,i,a,o){var h=(h=pt.current)?ec(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Na(a.href),a=en(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Na(a.href);var f=en(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(il(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),f||RA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=en(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Na(e){return'href="'+Te(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function By(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function RA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Fe(i,"link",a),fe(i),e.head.appendChild(i))}function Oa(e){return'[src="'+Te(e)+'"]'}function rl(e){return"script[async]"+e}function qy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+Te(a.href)+'"]');if(o)return i.instance=o,fe(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),Fe(o,"style",h),nc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Na(a.href);var f=e.querySelector(il(h));if(f)return i.state.loading|=4,i.instance=f,fe(f),f;o=By(a),(h=Mn.get(h))&&rd(o,h),f=(e.ownerDocument||e).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Fe(f,"link",o),i.state.loading|=4,nc(f,a.precedence,e),i.instance=f;case"script":return f=Oa(a.src),(h=e.querySelector(rl(f)))?(i.instance=h,fe(h),h):(o=a,(h=Mn.get(f))&&(o=A({},a),sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),Fe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,nc(o,a.precedence,e));return i.instance}function nc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function sd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ic=null;function Hy(e,i,a){if(ic===null){var o=new Map,h=ic=new Map;h.set(a,o)}else h=ic,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Zr]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Fy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function wA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function IA(){}function CA(e,i,a){if(sl===null)throw Error(s(475));var o=sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Na(a.href),f=e.querySelector(il(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=rc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,fe(f);return}f=e.ownerDocument||e,a=By(a),(h=Mn.get(h))&&rd(a,h),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Fe(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=rc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function DA(){if(sl===null)throw Error(s(475));var e=sl;return e.stylesheets&&e.count===0&&ad(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&ad(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function rc(){if(this.count--,this.count===0){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function ad(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,i.forEach(NA,e),sc=null,rc.call(e))}function NA(e,i){if(!(i.state.loading&4)){var a=sc.get(e);if(a)var o=a.get(null);else{a=new Map,sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var al={$$typeof:it,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function OA(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Qy(e,i,a,o,h,f,v,E,R,L,F,Q){return e=new OA(e,i,a,v,E,R,L,Q),i=1,f===!0&&(i|=24),f=mn(3,null,null,i),e.current=f,f.stateNode=e,i=jh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},Fh(f),e}function Ky(e){return e?(e=la,e):la}function Yy(e,i,a,o,h,f){h=Ky(h),o.context===null?o.context=h:o.pendingContext=h,o=or(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=lr(e,o,i),a!==null&&(vn(a,e,i),Uo(a,e,i))}function Xy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function od(e,i){Xy(e,i),(e=e.alternate)&&Xy(e,i)}function $y(e){if(e.tag===13){var i=oa(e,67108864);i!==null&&vn(i,e,67108864),od(e,67108864)}}var ac=!0;function VA(e,i,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,ld(e,i,a,o)}finally{nt.p=f,H.T=h}}function MA(e,i,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,ld(e,i,a,o)}finally{nt.p=f,H.T=h}}function ld(e,i,a,o){if(ac){var h=ud(o);if(h===null)Xf(e,i,o,oc,a),Jy(e,o);else if(xA(h,e,i,a,o))o.stopPropagation();else if(Jy(e,o),i&4&&-1<PA.indexOf(e)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=kn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ye(v);E.entanglements[1]|=R,v&=~R}li(f),(Kt&6)===0&&(Fu=Tn()+500,Wo(0))}}break;case 13:E=oa(f,2),E!==null&&vn(E,f,2),Qu(),od(f,2)}if(f=ud(o),f===null&&Xf(e,i,o,oc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Xf(e,i,o,null,a)}}function ud(e){return e=bn(e),cd(e)}var oc=null;function cd(e){if(oc=null,e=Ei(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return oc=e,null}function Zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fh()){case io:return 2;case js:return 8;case Qr:case dh:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var hd=!1,Tr=null,Ar=null,Sr=null,ol=new Map,ll=new Map,br=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(e,i){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function ul(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&$y(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function xA(e,i,a,o,h){switch(i){case"focusin":return Tr=ul(Tr,e,i,a,o,h),!0;case"dragenter":return Ar=ul(Ar,e,i,a,o,h),!0;case"mouseover":return Sr=ul(Sr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,i,a,o,h)),!0}return!1}function Wy(e){var i=Ei(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Ql(e.priority,function(){if(a.tag===13){var o=_n();o=Ji(o);var h=oa(a,o);h!==null&&vn(h,a,o),od(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ud(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);bi=o,a.target.dispatchEvent(o),bi=null}else return i=Yn(a),i!==null&&$y(i),e.blockedOn=a,!1;i.shift()}return!0}function t_(e,i,a){lc(e)&&a.delete(i)}function UA(){hd=!1,Tr!==null&&lc(Tr)&&(Tr=null),Ar!==null&&lc(Ar)&&(Ar=null),Sr!==null&&lc(Sr)&&(Sr=null),ol.forEach(t_),ll.forEach(t_)}function uc(e,i){e.blockedOn===i&&(e.blockedOn=null,hd||(hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var cc=null;function e_(e){cc!==e&&(cc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(cd(o||a)===null)continue;break}var f=Yn(a);f!==null&&(e.splice(i,3),i-=3,cf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function cl(e){function i(R){return uc(R,e)}Tr!==null&&uc(Tr,e),Ar!==null&&uc(Ar,e),Sr!==null&&uc(Sr,e),ol.forEach(i),ll.forEach(i);for(var a=0;a<br.length;a++){var o=br[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<br.length&&(a=br[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&br.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[Ee]||null;if(typeof f=="function")v||e_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Ee]||null)E=v.formAction;else if(cd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),e_(a)}}}function fd(e){this._internalRoot=e}hc.prototype.render=fd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=_n();Yy(a,o,e,i,null,null)},hc.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Yy(e.current,2,null,e,null,null),Qu(),i[An]=null}};function hc(e){this._internalRoot=e}hc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Wi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<br.length&&i!==0&&i<br[a].priority;a++);br.splice(a,0,e),a===0&&Wy(e)}};var n_=t.version;if(n_!=="19.1.0")throw Error(s(527,n_,"19.1.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var kA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ue=fc.inject(kA),Qt=fc}catch{}}return fl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=_p,f=vp,v=Ep,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Qy(e,1,!1,null,null,a,o,h,f,v,E,null),e[An]=i.current,Yf(e),new fd(i)},fl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=_p,v=vp,E=Ep,R=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Qy(e,1,!0,i,a??null,o,h,f,v,E,R,L),i.context=Ky(null),a=i.current,o=_n(),o=Ji(o),h=or(o),h.callback=null,lr(a,h,o),a=o,i.current.lanes=a,vi(i,a),li(i),e[An]=i.current,Yf(e),new hc(i)},fl.version="19.1.0",fl}var f_;function KA(){if(f_)return gd.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),gd.exports=QA(),gd.exports}var YA=KA();const XA=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},$A=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,q=_&63;p||(q=64,d||(D=64)),s.push(n[A],n[w],n[D],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Fv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):$A(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new ZA;const D=c<<2|g>>4;if(s.push(D),_!==64){const q=g<<4&240|_>>2;if(s.push(q),w!==64){const Z=_<<6&192|w;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(r){const t=Fv(r);return Gv.encodeByteArray(t,!0)},Dc=function(r){return JA(r).replace(/\./g,"")},Qv=function(r){try{return Gv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=()=>WA().__FIREBASE_DEFAULTS__,eS=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},nS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Qv(r[1]);return t&&JSON.parse(t)},Yc=()=>{try{return XA()||tS()||eS()||nS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Kv=r=>{var t,n;return(n=(t=Yc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},iS=r=>{const t=Kv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},Yv=()=>{var r;return(r=Yc())===null||r===void 0?void 0:r.config},Xv=r=>{var t;return(t=Yc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $v(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(d)),""].join(".")}const yl={};function aS(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function oS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let m_=!1;function Zv(r,t){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||yl[r]===t||yl[r]||m_)return;yl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=aS().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{m_=!0,d()},D}function A(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function w(){const D=oS(s),q=n("text"),Z=document.getElementById(q)||document.createElement("span"),tt=n("learnmore"),J=document.getElementById(tt)||document.createElement("a"),_t=n("preprendIcon"),dt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const it=D.element;g(it),A(J,tt);const At=_();p(dt,_t),it.append(dt,Z,J,At),document.body.appendChild(it)}c?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function uS(){var r;const t=(r=Yc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function mS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FirebaseError";class $i extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=yS,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ml.prototype.create)}}class Ml{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?_S(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new $i(l,g,s)}}function _S(r,t){return r.replace(vS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const vS=/\{\$([^}]+)}/g;function ES(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ns(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(g_(c)&&g_(d)){if(!Ns(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function g_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function TS(r,t){const n=new AS(r,t);return n.subscribe.bind(n)}class AS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=vd),l.error===void 0&&(l.error=vd),l.complete===void 0&&(l.complete=vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(r){return r&&r._delegate?r._delegate:r}class Os{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new rS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),l=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wS(t))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ws){return this.instances.has(t)}getOptions(t=ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ws){return this.component?this.component.multipleInstances?t:ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(r){return r===ws?void 0:r}function wS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new bS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const CS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},DS=Pt.INFO,NS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},OS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=NS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class nm{constructor(t){this.name=t,this._logLevel=DS,this._logHandler=OS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const VS=(r,t)=>t.some(n=>r instanceof n);let p_,y_;function MS(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jv=new WeakMap,Nd=new WeakMap,Wv=new WeakMap,Ed=new WeakMap,im=new WeakMap;function xS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Vr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&Jv.set(n,r)}).catch(()=>{}),im.set(t,r),t}function US(r){if(Nd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Nd.set(r,t)}let Od={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Nd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Wv.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kS(r){Od=r(Od)}function LS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Td(this),t,...n);return Wv.set(s,t.sort?t.sort():[t]),Vr(s)}:PS().includes(r)?function(...t){return r.apply(Td(this),t),Vr(Jv.get(this))}:function(...t){return Vr(r.apply(Td(this),t))}}function zS(r){return typeof r=="function"?LS(r):(r instanceof IDBTransaction&&US(r),VS(r,MS())?new Proxy(r,Od):r)}function Vr(r){if(r instanceof IDBRequest)return xS(r);if(Ed.has(r))return Ed.get(r);const t=zS(r);return t!==r&&(Ed.set(r,t),im.set(t,r)),t}const Td=r=>im.get(r);function jS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Vr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Vr(d.result),p.oldVersion,p.newVersion,Vr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const BS=["get","getKey","getAll","getAllKeys","count"],qS=["put","add","delete","clear"],Ad=new Map;function __(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=qS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||BS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Ad.set(t,c),c}kS(r=>({...r,get:(t,n,s)=>__(t,n)||r.get(t,n,s),has:(t,n)=>!!__(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FS(r){const t=r.getComponent();return t?.type==="VERSION"}const Vd="@firebase/app",v_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new nm("@firebase/app"),GS="@firebase/app-compat",QS="@firebase/analytics-compat",KS="@firebase/analytics",YS="@firebase/app-check-compat",XS="@firebase/app-check",$S="@firebase/auth",ZS="@firebase/auth-compat",JS="@firebase/database",WS="@firebase/data-connect",t1="@firebase/database-compat",e1="@firebase/functions",n1="@firebase/functions-compat",i1="@firebase/installations",r1="@firebase/installations-compat",s1="@firebase/messaging",a1="@firebase/messaging-compat",o1="@firebase/performance",l1="@firebase/performance-compat",u1="@firebase/remote-config",c1="@firebase/remote-config-compat",h1="@firebase/storage",f1="@firebase/storage-compat",d1="@firebase/firestore",m1="@firebase/ai",g1="@firebase/firestore-compat",p1="firebase",y1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",_1={[Vd]:"fire-core",[GS]:"fire-core-compat",[KS]:"fire-analytics",[QS]:"fire-analytics-compat",[XS]:"fire-app-check",[YS]:"fire-app-check-compat",[$S]:"fire-auth",[ZS]:"fire-auth-compat",[JS]:"fire-rtdb",[WS]:"fire-data-connect",[t1]:"fire-rtdb-compat",[e1]:"fire-fn",[n1]:"fire-fn-compat",[i1]:"fire-iid",[r1]:"fire-iid-compat",[s1]:"fire-fcm",[a1]:"fire-fcm-compat",[o1]:"fire-perf",[l1]:"fire-perf-compat",[u1]:"fire-rc",[c1]:"fire-rc-compat",[h1]:"fire-gcs",[f1]:"fire-gcs-compat",[d1]:"fire-fst",[g1]:"fire-fst-compat",[m1]:"fire-vertex","fire-js":"fire-js",[p1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,v1=new Map,Pd=new Map;function E_(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ha(r){const t=r.name;if(Pd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,r);for(const n of Nc.values())E_(n,r);for(const n of v1.values())E_(n,r);return!0}function rm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Ml("app","Firebase",E1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=y1;function tE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Mr.create("bad-app-name",{appName:String(l)});if(n||(n=Yv()),!n)throw Mr.create("no-options");const c=Nc.get(l);if(c){if(Ns(n,c.options)&&Ns(s,c.config))return c;throw Mr.create("duplicate-app",{appName:l})}const d=new IS(l);for(const p of Pd.values())d.addComponent(p);const g=new T1(n,s,d);return Nc.set(l,g),g}function eE(r=Md){const t=Nc.get(r);if(!t&&r===Md&&Yv())return tE();if(!t)throw Mr.create("no-app",{appName:r});return t}function Pr(r,t,n){var s;let l=(s=_1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}Ha(new Os(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebase-heartbeat-database",S1=1,Sl="firebase-heartbeat-store";let Sd=null;function nE(){return Sd||(Sd=jS(A1,S1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Mr.create("idb-open",{originalErrorMessage:r.message})})),Sd}async function b1(r){try{const n=(await nE()).transaction(Sl),s=await n.objectStore(Sl).get(iE(r));return await n.done,s}catch(t){if(t instanceof $i)Gi.warn(t.message);else{const n=Mr.create("idb-get",{originalErrorMessage:t?.message});Gi.warn(n.message)}}}async function T_(r,t){try{const s=(await nE()).transaction(Sl,"readwrite");await s.objectStore(Sl).put(t,iE(r)),await s.done}catch(n){if(n instanceof $i)Gi.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n?.message});Gi.warn(s.message)}}}function iE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1024,w1=30;class I1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=A_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>w1){const d=N1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:s,unsentEntries:l}=C1(this._heartbeatsCache.heartbeats),c=Dc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Gi.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function C1(r,t=R1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),S_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),S_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class D1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return T_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function S_(r){return Dc(JSON.stringify({version:2,heartbeats:r})).length}function N1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){Ha(new Os("platform-logger",t=>new HS(t),"PRIVATE")),Ha(new Os("heartbeat",t=>new I1(t),"PRIVATE")),Pr(Vd,v_,r),Pr(Vd,v_,"esm2017"),Pr("fire-js","")}O1("");var V1="firebase",M1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(V1,M1,"app");function sm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function rE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P1=rE,sE=new Ml("auth","Firebase",rE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new nm("@firebase/auth");function x1(r,...t){Oc.logLevel<=Pt.WARN&&Oc.warn(`Auth (${$a}): ${r}`,...t)}function vc(r,...t){Oc.logLevel<=Pt.ERROR&&Oc.error(`Auth (${$a}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,...t){throw am(r,...t)}function ci(r,...t){return am(r,...t)}function aE(r,t,n){const s=Object.assign(Object.assign({},P1()),{[t]:n});return new Ml("auth","Firebase",s).create(t,{appName:r.name})}function xr(r){return aE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function am(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return sE.create(r,...t)}function Tt(r,t,...n){if(!r)throw am(t,...n)}function Hi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw vc(t),new Error(t)}function Ki(r,t){r||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function U1(){return b_()==="http:"||b_()==="https:"}function b_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U1()||hS()||"connection"in navigator)?navigator.onLine:!0}function L1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ki(n>t,"Short delay should be less than long delay!"),this.isMobile=lS()||fS()}get(){return k1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B1=new xl(3e4,6e4);function Xc(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Za(r,t,n,s,l={}){return lE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Pl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return cS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Xa(r.emulatorConfig.host)&&(_.credentials="include"),oE.fetch()(await cE(r,r.config.apiHost,n,g),_)})}async function lE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},z1),t);try{const l=new q1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw dc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw dc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw dc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw aE(r,A,_);Qi(r,A)}}catch(l){if(l instanceof $i)throw l;Qi(r,"network-request-failed",{message:String(l)})}}async function uE(r,t,n,s,l={}){const c=await Za(r,t,n,s,l);return"mfaPendingCredential"in c&&Qi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function cE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?om(r.config,l):`${r.config.apiScheme}://${l}`;return j1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class q1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),B1.get())})}}function dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ci(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,t){return Za(r,"POST","/v1/accounts:delete",t)}async function Vc(r,t){return Za(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function F1(r,t=!1){const n=cn(r),s=await n.getIdToken(t),l=lm(s);Tt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:_l(bd(l.auth_time)),issuedAtTime:_l(bd(l.iat)),expirationTime:_l(bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function bd(r){return Number(r)*1e3}function lm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Qv(n);return l?JSON.parse(l):(vc("Failed to decode base64 JWT payload"),null)}catch(l){return vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function R_(r){const t=lm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof $i&&G1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function G1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await bl(r,Vc(n,{idToken:s}));Tt(l?.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?hE(c.providerUserInfo):[],g=Y1(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!g?.length,A=p?_:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Ud(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,w)}async function K1(r){const t=cn(r);await Mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Y1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function hE(r){return r.map(t=>{var{providerId:n}=t,s=sm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,t){const n=await lE(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await cE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&Xa(r.emulatorConfig.host)&&(p.credentials="include"),oE.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $1(r,t){return Za(r,"POST","/v2/accounts:revokeToken",Xc(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):R_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=R_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await X1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new ka;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Fn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=sm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Ud(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await bl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return F1(this,t)}reload(){return K1(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Fn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Mc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(xr(this.auth));const t=await this.getIdToken();return await bl(this,H1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,_,A;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,D=(l=n.email)!==null&&l!==void 0?l:void 0,q=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=n.photoURL)!==null&&d!==void 0?d:void 0,tt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,J=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,_t=(_=n.createdAt)!==null&&_!==void 0?_:void 0,dt=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:it,emailVerified:At,isAnonymous:ft,providerData:Rt,stsTokenManager:O}=n;Tt(it&&O,t,"internal-error");const S=ka.fromJSON(this.name,O);Tt(typeof it=="string",t,"internal-error"),wr(w,t.name),wr(D,t.name),Tt(typeof At=="boolean",t,"internal-error"),Tt(typeof ft=="boolean",t,"internal-error"),wr(q,t.name),wr(Z,t.name),wr(tt,t.name),wr(J,t.name),wr(_t,t.name),wr(dt,t.name);const b=new Fn({uid:it,auth:t,email:D,emailVerified:At,displayName:w,isAnonymous:ft,photoURL:Z,phoneNumber:q,tenantId:tt,stsTokenManager:S,createdAt:_t,lastLoginAt:dt});return Rt&&Array.isArray(Rt)&&(b.providerData=Rt.map(V=>Object.assign({},V))),J&&(b._redirectEventId=J),b}static async _fromIdTokenResponse(t,n,s=!1){const l=new ka;l.updateFromServerResponse(n);const c=new Fn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Mc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?hE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new ka;g.updateFromIdToken(s);const p=new Fn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Ud(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;function Fi(r){Ki(r instanceof Function,"Expected a class definition");let t=w_.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,w_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}fE.type="NONE";const I_=fE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Ec(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ec("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vc(this.auth,{idToken:t}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(Fi(I_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Fi(I_);const d=Ec(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const D=await Vc(t,{idToken:A}).catch(()=>{});if(!D)break;w=await Fn._fromGetAccountInfoResponse(t,D,A)}else w=Fn._fromJSON(t,A);_!==c&&(g=w),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_E(t))return"Blackberry";if(vE(t))return"Webos";if(mE(t))return"Safari";if((t.includes("chrome/")||gE(t))&&!t.includes("edge/"))return"Chrome";if(yE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function dE(r=tn()){return/firefox\//i.test(r)}function mE(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gE(r=tn()){return/crios\//i.test(r)}function pE(r=tn()){return/iemobile/i.test(r)}function yE(r=tn()){return/android/i.test(r)}function _E(r=tn()){return/blackberry/i.test(r)}function vE(r=tn()){return/webos/i.test(r)}function um(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Z1(r=tn()){var t;return um(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function J1(){return dS()&&document.documentMode===10}function EE(r=tn()){return um(r)||yE(r)||vE(r)||_E(r)||/windows phone/i.test(r)||pE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r,t=[]){let n;switch(r){case"Browser":n=C_(tn());break;case"Worker":n=`${C_(tn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(r,t={}){return Za(r,"GET","/v2/passwordPolicy",Xc(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=6;class nb{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:eb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new W1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vc(this,{idToken:t}),s=await Fn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Hn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l?._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&p?.user&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(xr(this));const n=t?cn(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tb(this),n=new nb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ml("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&x1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function $c(r){return cn(r)}class D_{constructor(t){this.auth=t,this.observer=null,this.addObserver=TS(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rb(r){cm=r}function sb(r){return cm.loadJS(r)}function ab(){return cm.gapiScript}function ob(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,t){const n=rm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ns(c,t??{}))return l;Qi(l,"already-initialized")}return n.initialize({options:t})}function ub(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function cb(r,t,n){const s=$c(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=AE(t),{host:d,port:g}=hb(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Ns(_,s.config.emulator)&&Ns(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Xa(d)?($v(`${c}//${d}${p}`),Zv("Auth",!0)):fb()}function AE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function hb(r){const t=AE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:N_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:N_(d)}}}function N_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function fb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,n){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return uE(r,"POST","/v1/accounts:signInWithIdp",Xc(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="http://localhost";class Vs extends SE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Vs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=sm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Vs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:db,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Pl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends bE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Ul{constructor(){super("facebook.com")}static credential(t){return Vs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Vs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Cr.credential(n,s)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Ul{constructor(){super("github.com")}static credential(t){return Vs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ul{constructor(){super("twitter.com")}static credential(t,n){return Vs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(r,t){return uE(r,"POST","/v1/accounts:signUp",Xc(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Fn._fromIdTokenResponse(t,s,l),d=O_(s);return new Lr({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=O_(s);return new Lr({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function O_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(r){var t;if(Hn(r.app))return Promise.reject(xr(r));const n=$c(r);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new Lr({user:n.currentUser,providerId:null,operationType:"signIn"});const s=await mb(n,{returnSecureToken:!0}),l=await Lr._fromIdTokenResponse(n,"signIn",s,!0);return await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends $i{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Pc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Pc(t,n,s,l)}}function RE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Pc._fromErrorAndOperation(r,c,t,s):c})}async function pb(r,t,n=!1){const s=await bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Lr._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(r,t,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(xr(s));const l="reauthenticate";try{const c=await bl(r,RE(s,l,t,r),n);Tt(c.idToken,s,"internal-error");const d=lm(c.idToken);Tt(d,s,"internal-error");const{sub:g}=d;return Tt(r.uid===g,s,"user-mismatch"),Lr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(r,t,n=!1){if(Hn(r.app))return Promise.reject(xr(r));const s="signIn",l=await RE(r,s,t),c=await Lr._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function vb(r,t,n,s){return cn(r).onIdTokenChanged(t,n,s)}function Eb(r,t,n){return cn(r).beforeAuthStateChanged(t,n)}function Tb(r,t,n,s){return cn(r).onAuthStateChanged(t,n,s)}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=1e3,Sb=10;class IE extends wE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);J1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Sb):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Ab)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}IE.type="LOCAL";const bb=IE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends wE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CE.type="SESSION";const DE=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Zc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await Rb(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=hm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const D=w;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function Ib(r){hi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function Cb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Db(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Nb(){return NE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebaseLocalStorageDb",Ob=1,Uc="firebaseLocalStorage",VE="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jc(r,t){return r.transaction([Uc],t?"readwrite":"readonly").objectStore(Uc)}function Vb(){const r=indexedDB.deleteDatabase(OE);return new kl(r).toPromise()}function kd(){const r=indexedDB.open(OE,Ob);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Uc,{keyPath:VE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Uc)?t(s):(s.close(),await Vb(),t(await kd()))})})}async function V_(r,t,n){const s=Jc(r,!0).put({[VE]:t,value:n});return new kl(s).toPromise()}async function Mb(r,t){const n=Jc(r,!1).get(t),s=await new kl(n).toPromise();return s===void 0?null:s.value}function M_(r,t){const n=Jc(r,!0).delete(t);return new kl(n).toPromise()}const Pb=800,xb=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>xb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zc._getInstance(Nb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Cb(),!this.activeServiceWorker)return;this.sender=new wb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Db()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kd();return await V_(t,xc,"1"),await M_(t,xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>V_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Mb(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Jc(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const Ub=ME;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r,t){return t?Fi(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends SE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Lb(r){return _b(r.auth,new fm(r),r.bypassAuthState)}function zb(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),yb(n,new fm(r),r.bypassAuthState)}async function jb(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),pb(n,new fm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Lb;case"linkViaPopup":case"linkViaRedirect":return jb;case"reauthViaPopup":case"reauthViaRedirect":return zb;default:Qi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new xl(2e3,1e4);class Ua extends PE{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Bb.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="pendingRedirect",Tc=new Map;class Hb extends PE{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Tc.get(this.auth._key());if(!t){try{const s=await Fb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Tc.set(this.auth._key(),t)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fb(r,t){const n=Kb(t),s=Qb(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Gb(r,t){Tc.set(r._key(),t)}function Qb(r){return Fi(r._redirectPersistence)}function Kb(r){return Ec(qb,r.config.apiKey,r.name)}async function Yb(r,t,n=!1){if(Hn(r.app))return Promise.reject(xr(r));const s=$c(r),l=kb(s,t),d=await new Hb(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=10*60*1e3;class $b{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Zb(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!xE(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xb&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(t))}saveEventToCache(t){this.cachedEventUids.add(P_(t)),this.lastProcessedEventTime=Date.now()}}function P_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function xE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Zb(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(r,t={}){return Za(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function eR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Jb(r);for(const n of t)try{if(nR(n))return}catch{}Qi(r,"unauthorized-domain")}function nR(r){const t=xd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!tR.test(n))return!1;if(Wb.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new xl(3e4,6e4);function x_(){const r=hi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function rR(r){return new Promise((t,n)=>{var s,l,c;function d(){x_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(ci(r,"network-request-failed"))},timeout:iR.get()})}if(!((l=(s=hi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=hi().gapi)===null||c===void 0)&&c.load)d();else{const g=ob("iframefcb");return hi()[g]=()=>{gapi.load?d():n(ci(r,"network-request-failed"))},sb(`${ab()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Ac=null,t})}let Ac=null;function sR(r){return Ac=Ac||rR(r),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new xl(5e3,15e3),oR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?om(t,lR):`https://${r.config.authDomain}/${oR}`,s={apiKey:t.apiKey,appName:r.name,v:$a},l=cR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Pl(s).slice(1)}`}async function fR(r){const t=await sR(r),n=hi().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:hR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=ci(r,"network-request-failed"),g=hi().setTimeout(()=>{c(d)},aR.get());function p(){hi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,pR="_blank",yR="http://localhost";class U_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(r,t,n,s=mR,l=gR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},dR),{width:s.toString(),height:l.toString(),top:c,left:d}),_=tn().toLowerCase();n&&(g=gE(_)?pR:n),dE(_)&&(t=t||yR,p.scrollbars="yes");const A=Object.entries(p).reduce((D,[q,Z])=>`${D}${q}=${Z},`,"");if(Z1(_)&&g!=="_self")return vR(t||"",g),new U_(null);const w=window.open(t||"",g,A);Tt(w,r,"popup-blocked");try{w.focus()}catch{}return new U_(w)}function vR(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",TR="emulator/auth/handler",AR=encodeURIComponent("fac");async function k_(r,t,n,s,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:$a,eventId:l};if(t instanceof bE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",ES(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Ul){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${AR}=${encodeURIComponent(p)}`:"";return`${SR(r)}?${Pl(g).slice(1)}${_}`}function SR({config:r}){return r.emulator?om(r,TR):`https://${r.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="webStorageSupport";class bR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=Yb,this._overrideRedirectResult=Gb}async _openPopup(t,n,s,l){var c;Ki((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await k_(t,n,s,xd(),l);return _R(t,d,hm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await k_(t,n,s,xd(),l);return Ib(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await fR(t),s=new $b(t);return n.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Rd,{type:Rd},l=>{var c;const d=(c=l?.[0])===null||c===void 0?void 0:c[Rd];d!==void 0&&n(!!d),Qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return EE()||mE()||um()}}const RR=bR;var L_="@firebase/auth",z_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(r){Ha(new Os("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(r)},_=new ib(s,l,c,p);return ub(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ha(new Os("auth-internal",t=>{const n=$c(t.getProvider("auth").getImmediate());return(s=>new wR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(L_,z_,IR(r)),Pr(L_,z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=5*60,NR=Xv("authIdTokenMaxAge")||DR;let j_=null;const OR=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NR)return;const l=n?.token;j_!==l&&(j_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VR(r=eE()){const t=rm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=lb(r,{popupRedirectResolver:RR,persistence:[Ub,bb,DE]}),s=Xv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=OR(c.toString());Eb(n,d,()=>d(n.currentUser)),vb(n,g=>d(g))}}const l=Kv("auth");return l&&cb(n,`http://${l}`),n}function MR(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}rb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ci("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",MR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,UE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function b(){}b.prototype=S.prototype,O.D=S.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(V,M,x){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return S.prototype[M].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,b){b||(b=0);var V=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)V[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)V[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=O.g[0],b=O.g[1],M=O.g[2];var x=O.g[3],I=S+(x^b&(M^x))+V[0]+3614090360&4294967295;S=b+(I<<7&4294967295|I>>>25),I=x+(M^S&(b^M))+V[1]+3905402710&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(b^x&(S^b))+V[2]+606105819&4294967295,M=x+(I<<17&4294967295|I>>>15),I=b+(S^M&(x^S))+V[3]+3250441966&4294967295,b=M+(I<<22&4294967295|I>>>10),I=S+(x^b&(M^x))+V[4]+4118548399&4294967295,S=b+(I<<7&4294967295|I>>>25),I=x+(M^S&(b^M))+V[5]+1200080426&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(b^x&(S^b))+V[6]+2821735955&4294967295,M=x+(I<<17&4294967295|I>>>15),I=b+(S^M&(x^S))+V[7]+4249261313&4294967295,b=M+(I<<22&4294967295|I>>>10),I=S+(x^b&(M^x))+V[8]+1770035416&4294967295,S=b+(I<<7&4294967295|I>>>25),I=x+(M^S&(b^M))+V[9]+2336552879&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(b^x&(S^b))+V[10]+4294925233&4294967295,M=x+(I<<17&4294967295|I>>>15),I=b+(S^M&(x^S))+V[11]+2304563134&4294967295,b=M+(I<<22&4294967295|I>>>10),I=S+(x^b&(M^x))+V[12]+1804603682&4294967295,S=b+(I<<7&4294967295|I>>>25),I=x+(M^S&(b^M))+V[13]+4254626195&4294967295,x=S+(I<<12&4294967295|I>>>20),I=M+(b^x&(S^b))+V[14]+2792965006&4294967295,M=x+(I<<17&4294967295|I>>>15),I=b+(S^M&(x^S))+V[15]+1236535329&4294967295,b=M+(I<<22&4294967295|I>>>10),I=S+(M^x&(b^M))+V[1]+4129170786&4294967295,S=b+(I<<5&4294967295|I>>>27),I=x+(b^M&(S^b))+V[6]+3225465664&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^b&(x^S))+V[11]+643717713&4294967295,M=x+(I<<14&4294967295|I>>>18),I=b+(x^S&(M^x))+V[0]+3921069994&4294967295,b=M+(I<<20&4294967295|I>>>12),I=S+(M^x&(b^M))+V[5]+3593408605&4294967295,S=b+(I<<5&4294967295|I>>>27),I=x+(b^M&(S^b))+V[10]+38016083&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^b&(x^S))+V[15]+3634488961&4294967295,M=x+(I<<14&4294967295|I>>>18),I=b+(x^S&(M^x))+V[4]+3889429448&4294967295,b=M+(I<<20&4294967295|I>>>12),I=S+(M^x&(b^M))+V[9]+568446438&4294967295,S=b+(I<<5&4294967295|I>>>27),I=x+(b^M&(S^b))+V[14]+3275163606&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^b&(x^S))+V[3]+4107603335&4294967295,M=x+(I<<14&4294967295|I>>>18),I=b+(x^S&(M^x))+V[8]+1163531501&4294967295,b=M+(I<<20&4294967295|I>>>12),I=S+(M^x&(b^M))+V[13]+2850285829&4294967295,S=b+(I<<5&4294967295|I>>>27),I=x+(b^M&(S^b))+V[2]+4243563512&4294967295,x=S+(I<<9&4294967295|I>>>23),I=M+(S^b&(x^S))+V[7]+1735328473&4294967295,M=x+(I<<14&4294967295|I>>>18),I=b+(x^S&(M^x))+V[12]+2368359562&4294967295,b=M+(I<<20&4294967295|I>>>12),I=S+(b^M^x)+V[5]+4294588738&4294967295,S=b+(I<<4&4294967295|I>>>28),I=x+(S^b^M)+V[8]+2272392833&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^b)+V[11]+1839030562&4294967295,M=x+(I<<16&4294967295|I>>>16),I=b+(M^x^S)+V[14]+4259657740&4294967295,b=M+(I<<23&4294967295|I>>>9),I=S+(b^M^x)+V[1]+2763975236&4294967295,S=b+(I<<4&4294967295|I>>>28),I=x+(S^b^M)+V[4]+1272893353&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^b)+V[7]+4139469664&4294967295,M=x+(I<<16&4294967295|I>>>16),I=b+(M^x^S)+V[10]+3200236656&4294967295,b=M+(I<<23&4294967295|I>>>9),I=S+(b^M^x)+V[13]+681279174&4294967295,S=b+(I<<4&4294967295|I>>>28),I=x+(S^b^M)+V[0]+3936430074&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^b)+V[3]+3572445317&4294967295,M=x+(I<<16&4294967295|I>>>16),I=b+(M^x^S)+V[6]+76029189&4294967295,b=M+(I<<23&4294967295|I>>>9),I=S+(b^M^x)+V[9]+3654602809&4294967295,S=b+(I<<4&4294967295|I>>>28),I=x+(S^b^M)+V[12]+3873151461&4294967295,x=S+(I<<11&4294967295|I>>>21),I=M+(x^S^b)+V[15]+530742520&4294967295,M=x+(I<<16&4294967295|I>>>16),I=b+(M^x^S)+V[2]+3299628645&4294967295,b=M+(I<<23&4294967295|I>>>9),I=S+(M^(b|~x))+V[0]+4096336452&4294967295,S=b+(I<<6&4294967295|I>>>26),I=x+(b^(S|~M))+V[7]+1126891415&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~b))+V[14]+2878612391&4294967295,M=x+(I<<15&4294967295|I>>>17),I=b+(x^(M|~S))+V[5]+4237533241&4294967295,b=M+(I<<21&4294967295|I>>>11),I=S+(M^(b|~x))+V[12]+1700485571&4294967295,S=b+(I<<6&4294967295|I>>>26),I=x+(b^(S|~M))+V[3]+2399980690&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~b))+V[10]+4293915773&4294967295,M=x+(I<<15&4294967295|I>>>17),I=b+(x^(M|~S))+V[1]+2240044497&4294967295,b=M+(I<<21&4294967295|I>>>11),I=S+(M^(b|~x))+V[8]+1873313359&4294967295,S=b+(I<<6&4294967295|I>>>26),I=x+(b^(S|~M))+V[15]+4264355552&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~b))+V[6]+2734768916&4294967295,M=x+(I<<15&4294967295|I>>>17),I=b+(x^(M|~S))+V[13]+1309151649&4294967295,b=M+(I<<21&4294967295|I>>>11),I=S+(M^(b|~x))+V[4]+4149444226&4294967295,S=b+(I<<6&4294967295|I>>>26),I=x+(b^(S|~M))+V[11]+3174756917&4294967295,x=S+(I<<10&4294967295|I>>>22),I=M+(S^(x|~b))+V[2]+718787259&4294967295,M=x+(I<<15&4294967295|I>>>17),I=b+(x^(M|~S))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+x&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var b=S-this.blockSize,V=this.B,M=this.h,x=0;x<S;){if(M==0)for(;x<=b;)l(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<S;)if(V[M++]=O.charCodeAt(x++),M==this.blockSize){l(this,V),M=0;break}}else for(;x<S;)if(V[M++]=O[x++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var b=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=b&255,b/=256;for(this.u(O),O=Array(16),S=b=0;4>S;++S)for(var V=0;32>V;V+=8)O[b++]=this.g[S]>>>V&255;return O};function c(O,S){var b=g;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=S(O)}function d(O,S){this.h=S;for(var b=[],V=!0,M=O.length-1;0<=M;M--){var x=O[M]|0;V&&x==S||(b[M]=x,V=!1)}this.g=b}var g={};function p(O){return-128<=O&&128>O?c(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return J(_(-O));for(var S=[],b=1,V=0;O>=b;V++)S[V]=O/b|0,b*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(S,8)),V=w,M=0;M<O.length;M+=8){var x=Math.min(8,O.length-M),I=parseInt(O.substring(M,M+x),S);8>x?(x=_(Math.pow(S,x)),V=V.j(x).add(_(I))):(V=V.j(b),V=V.add(_(I)))}return V}var w=p(0),D=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var O=0,S=1,b=0;b<this.g.length;b++){var V=this.i(b);O+=(0<=V?V:4294967296+V)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(tt(this))return"-"+J(this).toString(O);for(var S=_(Math.pow(O,6)),b=this,V="";;){var M=At(b,S).g;b=_t(b,M.j(S));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=M,Z(b))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function tt(O){return O.h==-1}r.l=function(O){return O=_t(this,O),tt(O)?-1:Z(O)?0:1};function J(O){for(var S=O.g.length,b=[],V=0;V<S;V++)b[V]=~O.g[V];return new d(b,~O.h).add(D)}r.abs=function(){return tt(this)?J(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],V=0,M=0;M<=S;M++){var x=V+(this.i(M)&65535)+(O.i(M)&65535),I=(x>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);V=I>>>16,x&=65535,I&=65535,b[M]=I<<16|x}return new d(b,b[b.length-1]&-2147483648?-1:0)};function _t(O,S){return O.add(J(S))}r.j=function(O){if(Z(this)||Z(O))return w;if(tt(this))return tt(O)?J(this).j(J(O)):J(J(this).j(O));if(tt(O))return J(this.j(J(O)));if(0>this.l(q)&&0>O.l(q))return _(this.m()*O.m());for(var S=this.g.length+O.g.length,b=[],V=0;V<2*S;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<O.g.length;M++){var x=this.i(V)>>>16,I=this.i(V)&65535,pe=O.i(M)>>>16,ie=O.i(M)&65535;b[2*V+2*M]+=I*ie,dt(b,2*V+2*M),b[2*V+2*M+1]+=x*ie,dt(b,2*V+2*M+1),b[2*V+2*M+1]+=I*pe,dt(b,2*V+2*M+1),b[2*V+2*M+2]+=x*pe,dt(b,2*V+2*M+2)}for(V=0;V<S;V++)b[V]=b[2*V+1]<<16|b[2*V];for(V=S;V<2*S;V++)b[V]=0;return new d(b,0)};function dt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function it(O,S){this.g=O,this.h=S}function At(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new it(w,w);if(tt(O))return S=At(J(O),S),new it(J(S.g),J(S.h));if(tt(S))return S=At(O,J(S)),new it(J(S.g),S.h);if(30<O.g.length){if(tt(O)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var b=D,V=S;0>=V.l(O);)b=ft(b),V=ft(V);var M=Rt(b,1),x=Rt(V,1);for(V=Rt(V,2),b=Rt(b,2);!Z(V);){var I=x.add(V);0>=I.l(O)&&(M=M.add(b),x=I),V=Rt(V,1),b=Rt(b,1)}return S=_t(O,M.j(S)),new it(M,S)}for(M=w;0<=O.l(S);){for(b=Math.max(1,Math.floor(O.m()/S.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=_(b),I=x.j(S);tt(I)||0<I.l(O);)b-=V,x=_(b),I=x.j(S);Z(x)&&(x=D),M=M.add(x),O=_t(O,I)}return new it(M,O)}r.A=function(O){return At(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],V=0;V<S;V++)b[V]=this.i(V)&O.i(V);return new d(b,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],V=0;V<S;V++)b[V]=this.i(V)|O.i(V);return new d(b,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],V=0;V<S;V++)b[V]=this.i(V)^O.i(V);return new d(b,this.h^O.h)};function ft(O){for(var S=O.g.length+1,b=[],V=0;V<S;V++)b[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(b,O.h)}function Rt(O,S){var b=S>>5;S%=32;for(var V=O.g.length-b,M=[],x=0;x<V;x++)M[x]=0<S?O.i(x+b)>>>S|O.i(x+b+1)<<32-S:O.i(x+b);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,UE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ur=d}).apply(typeof B_<"u"?B_:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kE,dl,LE,Sc,Ld,zE,jE,BE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var B=y++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:w,D.apply(null,arguments)}function q(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,B){for(var et=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)et[kt-2]=arguments[kt];return m.prototype[U].apply(T,et)}}function tt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function J(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,B=T.length||0;u.length=U+B;for(let et=0;et<B;et++)u[U+et]=T[et]}else u.push(T)}}class _t{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function At(u){return At[" "](u),u}At[" "]=function(){};var ft=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function Rt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function O(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let B=0;B<b.length;B++)y=b[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function x(u){g.setTimeout(()=>{throw u},0)}function I(){var u=Ut;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,y){const T=ie.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new _t(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,Ut=new pe,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(y){x(y)}var m=ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function wt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{At(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:pt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,W);var pt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function En(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Xt,this.da=this.fa=!1}function Et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u){this.src=u,this.g={},this.h=0}It.prototype.add=function(u,m,y,T,U){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var et=ve(u,m,T,U);return-1<et?(m=u[et],y||(m.fa=!1)):(m=new En(m,this.src,B,!!T,U),m.fa=y,u.push(m)),m};function _e(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=U)&&Array.prototype.splice.call(T,U,1),B&&(Et(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ve(u,m,y,T){for(var U=0;U<u.length;++U){var B=u[U];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return U}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),Zi={};function zs(u,m,y,T,U){if(Array.isArray(m)){for(var B=0;B<m.length;B++)zs(u,m[B],y,T,U);return null}return y=Fl(y),u&&u[ye]?u.K(m,y,_(T)?!!T.capture:!1,U):Tn(u,m,y,!1,T,U)}function Tn(u,m,y,T,U,B){if(!m)throw Error("Invalid event type");var et=_(U)?!!U.capture:!!U,kt=Bs(u);if(kt||(u[Un]=kt=new It(u)),y=kt.add(m,y,T,et,B),y.proxy)return y;if(T=fh(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ut||(U=et),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Qr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function fh(){function u(y){return m.call(u.src,u.listener,y)}const m=dh;return u}function io(u,m,y,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)io(u,m[B],y,T,U);else T=_(T)?!!T.capture:!!T,y=Fl(y),u&&u[ye]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],y=ve(B,y,T,U),-1<y&&(Et(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=Bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ve(m,y,T,U)),(y=-1<u?m[u]:null)&&js(y))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ye])_e(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Qr(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Bs(m))?(_e(y,u),y.h==0&&(y.src=null,m[Un]=null)):Et(u)}}}function Qr(u){return u in Zi?Zi[u]:Zi[u]="on"+u}function dh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&js(u),u=y.call(T,m)}return u}function Bs(u){return u=u[Un],u instanceof It?u:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fl(u){return typeof u=="function"?u:(u[ro]||(u[ro]=function(m){return u.handleEvent(m)}),u[ro])}function ue(){rt.call(this),this.i=new It(this),this.M=this,this.F=null}Z(ue,rt),ue.prototype[ye]=!0,ue.prototype.removeEventListener=function(u,m,y,T){io(this,u,m,y,T)};function Qt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(T,u),V(m,U)}if(U=!0,y)for(var B=y.length-1;0<=B;B--){var et=m.g=y[B];U=hn(et,T,!0,m)&&U}if(et=m.g=u,U=hn(et,T,!0,m)&&U,U=hn(et,T,!1,m)&&U,y)for(B=0;B<y.length;B++)et=m.g=y[B],U=hn(et,T,!1,m)&&U}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Et(y[T]);delete u.g[m],u.h--}}this.F=null},ue.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ue.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function hn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,B=0;B<m.length;++B){var et=m[B];if(et&&!et.da&&et.capture==y){var kt=et.listener,Ce=et.ha||et.src;et.fa&&_e(u.i,et),U=kt.call(Ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ye(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Gl(u){u.g=Ye(()=>{u.g=null,u.i&&(u.i=!1,Gl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class mh extends rt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){rt.call(this),this.h=u,this.g={}}Z(Kr,rt);var Yr=[];function Xr(u){Rt(u.g,function(m,y){this.g.hasOwnProperty(y)&&js(m)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Xr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=g.JSON.stringify,qs=g.JSON.parse,$r=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function oo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){W.call(this,"d")}Z(vi,W);function lo(){W.call(this,"c")}Z(lo,W);var Kn={},uo=null;function Ji(){return uo=uo||new ue}Kn.La="serverreachability";function Hs(u){W.call(this,Kn.La,u)}Z(Hs,W);function Wi(u){const m=Ji();Qt(m,new Hs(m))}Kn.STAT_EVENT="statevent";function Ql(u,m){W.call(this,Kn.STAT_EVENT,u),this.stat=m}Z(Ql,W);function se(u){const m=Ji();Qt(m,new Ql(m,u))}Kn.Ma="timingevent";function Ie(u,m){W.call(this,Kn.Ma,u),this.size=m}Z(Ie,W);function Ee(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function co(u,m,y,T,U,B){u.info(function(){if(u.g)if(B)for(var et="",kt=B.split("&"),Ce=0;Ce<kt.length;Ce++){var Lt=kt[Ce].split("=");if(1<Lt.length){var xe=Lt[0];Lt=Lt[1];var De=xe.split("_");et=2<=De.length&&De[1]=="type"?et+(xe+"="+Lt+"&"):et+(xe+"=redacted&")}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+et})}function gh(u,m,y,T,U,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+B+" "+et})}function tr(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zr(u,y)+(T?" "+T:"")})}function Kl(u,m){u.info(function(){return"TIMEOUT: "+m})}An.prototype.info=function(){};function Zr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var B=U[0];if(B!="noop"&&B!="stop"&&B!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return kn(y)}catch{return m}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Xn(){}Z(Xn,so),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Yn=new Xn;function en(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var ho={},Fs={};function Ln(u,m,y){u.L=1,u.v=ns(fn(m)),u.m=y,u.P=!0,Ti(u,null)}function Ti(u,m){u.F=Date.now(),Jr(u),u.A=fn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),_o(y.i,"t",T),u.C=0,y=u.j.J,u.h=new fe,u.g=uu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new mh(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Yr[0]=U.toString()),U=Yr);for(var B=0;B<U.length;B++){var et=zs(y,U[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Wi(),co(u.i,u.u,u.A,u.l,u.R,u.m)}en.prototype.ca=function(u){u=u.target;const m=this.M;m&&wn(u)==3?m.j():this.Y(u)},en.prototype.Y=function(u){try{if(u==this.g)t:{const De=wn(this.g);var m=this.g.Ba();const Di=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||eu(this.g)))){this.J||De!=4||m==7||(m==8||0>=Di?Wi(3):Wi(2)),nr(this);var y=this.g.Z();this.X=y;e:if(Yl(this)){var T=eu(this.g);u="";var U=T.length,B=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),$n(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=y==200,gh(this.i,this.u,this.A,this.l,this.R,De,y),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ce=this.g;if((kt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(kt)){var Lt=kt;break e}}Lt=null}if(y=Lt)tr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,y);else{this.o=!1,this.s=3,se(12),je(this),$n(this);break t}}if(this.P){y=!0;let Be;for(;!this.J&&this.C<et.length;)if(Be=Xl(this,et),Be==Fs){De==4&&(this.s=4,se(14),y=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==ho){this.s=4,se(15),tr(this.i,this.l,et,"[Invalid Chunk]"),y=!1;break}else tr(this.i,this.l,Be,null),Wr(this,Be);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||et.length!=0||this.h.h||(this.s=1,se(16),y=!1),this.o=this.o&&y,!y)tr(this.i,this.l,et,"[Invalid Chunked Response]"),je(this),$n(this);else if(0<et.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),cs(xe),xe.M=!0,se(11))}}else tr(this.i,this.l,et,null),Wr(this,et);De==4&&je(this),this.o&&!this.J&&(De==4?au(this.j,this):(this.o=!1,Jr(this)))}else Eh(this.g),y==400&&0<et.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),$n(this)}}}catch{}finally{}};function Yl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Fs:(y=Number(m.substring(y,T)),isNaN(y)?ho:(T+=1,T+y>m.length?Fs:(m=m.slice(T,T+y),u.C=T+y,m)))}en.prototype.cancel=function(){this.J=!0,je(this)};function Jr(u){u.S=Date.now()+u.I,$l(u,u.I)}function $l(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ee(D(u.ba,u),m)}function nr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}en.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kl(this.i,this.A),this.L!=2&&(Wi(),se(17)),je(this),this.s=2,$n(this)):$l(this,this.S-u)};function $n(u){u.j.G==0||u.J||au(u.j,u)}function je(u){nr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Wr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||fo(y.h,u))){if(!u.K&&fo(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)na(y),ta(y);else break t;So(y),se(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ee(D(y.Za,y),6e3));if(1>=Qs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ci(y,11)}else if((u.K||y.g==u)&&na(y),!dt(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];if(y.T=Lt[0],Lt=Lt[1],y.G==2)if(Lt[0]=="c"){y.K=Lt[1],y.ia=Lt[2];const xe=Lt[3];xe!=null&&(y.la=xe,y.j.info("VER="+y.la));const De=Lt[4];De!=null&&(y.Aa=De,y.j.info("SVER="+y.Aa));const Di=Lt[5];Di!=null&&typeof Di=="number"&&0<Di&&(T=1.5*Di,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Be=u.g;if(Be){const ii=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var B=T.h;B.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ks(B,B.h),B.h=null))}if(T.D){const Ro=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(T.ya=Ro,$t(T.I,T.D,Ro))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var et=u;if(T.qa=lu(T,T.J?T.ia:null,T.W),et.K){nn(T.h,et);var kt=et,Ce=T.L;Ce&&(kt.I=Ce),kt.B&&(nr(kt),Jr(kt)),T.g=et}else ru(T);0<y.i.length&&ea(y)}else Lt[0]!="stop"&&Lt[0]!="close"||Ci(y,7);else y.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ci(y,7):To(y):Lt[0]!="noop"&&y.l&&y.l.ta(Lt),y.v=0)}}Wi(4)}catch{}}var Zl=class{constructor(u,m){this.g=u,this.map=m}};function Ai(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qs(u){return u.h?1:u.g?u.g.size:0}function fo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ks(u,m){u.g?u.g.add(m):u.h=m}function nn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ai.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return tt(u.i)}function ph(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function Ys(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function go(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ys(u),T=ph(u),U=T.length,B=0;B<U;B++)m.call(void 0,T[B],y&&y[B],u)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var B=u[y].substring(0,T);U=u[y].substring(T+1)}else B=u[y];m(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Te(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Te){this.h=u.h,es(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.s),this.l=u.l;var m=u.i,y=new bi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Si(this,y),this.m=u.m}else u&&(m=String(u).match(ts))?(this.h=!1,es(this,m[1]||"",!0),this.o=Sn(m[2]||""),this.g=Sn(m[3]||"",!0),ir(this,m[4]),this.l=Sn(m[5]||"",!0),Si(this,m[6]||"",!0),this.m=Sn(m[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Te.prototype.toString=function(){var u=[],m=this.j;m&&u.push(is(m,po,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(is(m,po,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(is(y,y.charAt(0)=="/"?_h:yo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",is(y,Xs)),u.join("")};function fn(u){return new Te(u)}function es(u,m,y){u.j=y?Sn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Si(u,m,y){m instanceof bi?(u.i=m,Wl(u.i,u.h)):(y||(m=is(m,vh)),u.i=new bi(m,u.h))}function $t(u,m,y){u.i.set(m,y)}function ns(u){return $t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Sn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function is(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Jl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,yo=/[#\?:]/g,_h=/[#\?]/g,vh=/[#\?@]/g,Xs=/#/g;function bi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&yh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=bi.prototype,r.add=function(u,m){bn(this),this.i=null,u=Zn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ri(u,m){bn(u),m=Zn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wi(u,m){return bn(u),m=Zn(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){bn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let B=0;B<U.length;B++)y.push(m[T])}return y},r.V=function(u){bn(this);let m=[];if(typeof u=="string")wi(this,u)&&(m=m.concat(this.g.get(Zn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return bn(this),this.i=null,u=Zn(this,u),wi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function _o(u,m,y){Ri(u,m),0<y.length&&(u.i=null,u.g.set(Zn(u,m),tt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const B=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var U=B;et[T]!==""&&(U+="="+encodeURIComponent(String(et[T]))),u.push(U)}}return this.i=u.join("&")};function Zn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wl(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(Ri(this,T),_o(this,U,y))},u)),u.j=m}function rs(u,m){const y=new An;if(g.Image){const T=new Image;T.onload=q(Rn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=q(Rn,y,"TestLoadImage: error",!1,m,T),T.onabort=q(Rn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(Rn,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function zn(u,m){const y=new An,T=new AbortController,U=setTimeout(()=>{T.abort(),Rn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Rn(y,"TestPingServer: ok",!0,m):Rn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(y,"TestPingServer: error",!1,m)})}function Rn(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function ss(){this.g=new $r}function Jn(u,m,y){const T=y||"";try{go(u,function(U,B){let et=U;_(U)&&(et=kn(U)),m.push(T+B+"="+encodeURIComponent(et))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function rr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(rr,so),rr.prototype.g=function(){return new Ii(this.l,this.j)},rr.prototype.i=function(u){return function(){return u}}({});function Ii(u,m){ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Ii,ue),r=Ii.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ti(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wn(this):ti(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Wn(this))},r.Qa=function(u){this.g&&(this.response=u,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ti(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let m="";return Rt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Pe(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Eo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):$t(u,m,y))}function Ft(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Ft,ue);var $s=/^https?$/i,as=["POST","PUT"];r=Ft.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?ao(this.o):ao(Yn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){tu(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(as,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of y)this.g.setRequestHeader(B,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){tu(this,B)}};function tu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Zs(u),ei(u)}function Zs(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)Ye(u.Ea,0,u);else if(Qt(u,"readystatechange"),wn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=et===0){var U=String(u.D).match(ts)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!$s.test(U?U.toLowerCase():"")}y=T}if(y)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var B=2<wn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Zs(u)}}finally{ei(u)}}}}function ei(u,m){if(u.g){os(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qt(u,"ready");try{y.onreadystatechange=T}catch{}}}function os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function eu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(u){const m={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(dt(u[T]))continue;var y=M(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[U]||[];m[U]=B,B.push(y)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ws(u){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(u&&u.concurrentRequestLimit),this.Da=new ss,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){se(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=lu(this,null,this.W),ea(this)};function To(u){if(nu(u),u.G==3){var m=u.U++,y=fn(u.I);if($t(y,"SID",u.K),$t(y,"RID",m),$t(y,"TYPE","terminate"),us(u,y),m=new en(u,u.j,m),m.L=2,m.v=ns(fn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jr(m)}ou(u)}function ta(u){u.g&&(cs(u),u.g.cancel(),u.g=null)}function nu(u){ta(u),u.u&&(g.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ea(u){if(!Gs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),lt||(nt(),lt=!0),Ut.add(m,u),u.B=0}}function Th(u,m){return Qs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ee(D(u.Ga,u,m),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new en(this,this.j,u);let B=this.o;if(this.S&&(B?(B=S(B),V(B,this.S)):B=this.S),this.m!==null||this.O||(U.H=B,B=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=iu(this,U,m),y=fn(this.I),$t(y,"RID",u),$t(y,"CVER",22),this.D&&$t(y,"X-HTTP-Session-Id",this.D),us(this,y),B&&(this.O?m="headers="+encodeURIComponent(String(Eo(B)))+"&"+m:this.m&&Pe(y,this.m,B)),Ks(this.h,U),this.Ua&&$t(y,"TYPE","init"),this.P?($t(y,"$req",m),$t(y,"SID","null"),U.T=!0,Ln(U,y,null)):Ln(U,y,m),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Gs(this.h)||Ao(this))};function Ao(u,m){var y;m?y=m.l:y=u.U++;const T=fn(u.I);$t(T,"SID",u.K),$t(T,"RID",y),$t(T,"AID",u.T),us(u,T),u.m&&u.o&&Pe(T,u.m,u.o),y=new en(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=iu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ks(u.h,y),Ln(y,T,m)}function us(u,m){u.H&&Rt(u.H,function(y,T){$t(m,T,y)}),u.l&&go({},function(y,T){$t(m,T,y)})}function iu(u,m,y){y=Math.min(u.i.length,y);var T=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let B=-1;for(;;){const et=["count="+y];B==-1?0<y?(B=U[0].g,et.push("ofs="+B)):B=0:et.push("ofs="+B);let kt=!0;for(let Ce=0;Ce<y;Ce++){let Lt=U[Ce].g;const xe=U[Ce].map;if(Lt-=B,0>Lt)B=Math.max(0,U[Ce].g-100),kt=!1;else try{Jn(xe,et,"req"+Lt+"_")}catch{T&&T(xe)}}if(kt){T=et.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function ru(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),lt||(nt(),lt=!0),Ut.add(m,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ee(D(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ee(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),ta(this),su(this))};function cs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function su(u){u.g=new en(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fn(u.qa);$t(m,"RID","rpc"),$t(m,"SID",u.K),$t(m,"AID",u.T),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$t(m,"TO",u.ja),$t(m,"TYPE","xmlhttp"),us(u,m),u.m&&u.o&&Pe(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ns(fn(m)),y.m=null,y.P=!0,Ti(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),So(this),se(19))};function na(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function au(u,m){var y=null;if(u.g==m){na(u),cs(u),u.g=null;var T=2}else if(fo(u.h,m))y=m.D,nn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Ji(),Qt(T,new Ie(T,y)),ea(u)}else ru(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Th(u,m)||T==2&&So(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function bo(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ci(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),T=u.Xa;const U=!T;T=new Te(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||es(T,"https"),ns(T),U?rs(T.toString(),y):zn(T.toString(),y)}else se(2);u.G=0,u.l&&u.l.sa(m),ou(u),nu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function ou(u){if(u.G=0,u.ka=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function lu(u,m,y){var T=y instanceof Te?fn(y):new Te(y);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var B=new Te(null);T&&es(B,T),m&&(B.g=m),U&&ir(B,U),y&&(B.l=y),T=B}return y=u.D,m=u.ya,y&&m&&$t(T,y,m),$t(T,"VER",u.la),us(u,T),T}function uu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new rr({eb:y})):new Ft(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,m){return new rn(u,m)};function rn(u,m){ue.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ni(this)}Z(rn,ue),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){To(this.g)},rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=kn(u),u=y);m.i.push(new Zl(m.Ya++,u)),m.G==3&&ea(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,rn.aa.N.call(this)};function hu(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(hu,vi);function fu(){lo.call(this),this.status=1}Z(fu,lo);function ni(u){this.g=u}Z(ni,cu),ni.prototype.ua=function(){Qt(this.g,"a")},ni.prototype.ta=function(u){Qt(this.g,new hu(u))},ni.prototype.sa=function(u){Qt(this.g,new fu)},ni.prototype.ra=function(){Qt(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,BE=function(){return new ia},jE=function(){return Ji()},zE=Kn,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Sc=er,Ei.COMPLETE="complete",LE=Ei,oo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ue.prototype.listen=ue.prototype.K,dl=oo,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,kE=Ft}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",H_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new nm("@firebase/firestore");function Va(){return Ms.logLevel}function st(r,...t){if(Ms.logLevel<=Pt.DEBUG){const n=t.map(dm);Ms.debug(`Firestore (${Ja}): ${r}`,...n)}}function Yi(r,...t){if(Ms.logLevel<=Pt.ERROR){const n=t.map(dm);Ms.error(`Firestore (${Ja}): ${r}`,...n)}}function zr(r,...t){if(Ms.logLevel<=Pt.WARN){const n=t.map(dm);Ms.warn(`Firestore (${Ja}): ${r}`,...n)}}function dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,qE(r,s,n)}function qE(r,t,n){let s=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yi(s),new Error(s)}function Gt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||qE(t,l,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends $i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class xR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cs,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cs)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new HE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class kR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new kR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=jR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function zd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Nt(s,l);{const c=FE(),d=BR(c.encode(G_(r,n)),c.encode(G_(t,n)));return d!==0?d:Nt(s,l)}}n+=s>65535?2:1}return Nt(r.length,t.length)}function G_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function BR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Nt(r[n],t[n]);return Nt(r.length,t.length)}function Fa(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class ui{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ui.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Nt(t.length,n.length)}static compareSegments(t,n){const s=ui.isNumericId(t),l=ui.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ui.extractNumericId(t).compare(ui.extractNumericId(n)):zd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class ne extends ui{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends ui{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return qR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Qe([Q_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ne.fromString(t))}static fromName(t){return new ht(ne.fromString(t).popFirst(5))}static empty(){return new ht(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(r,t,n){if(!n)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HR(r,t,n,s){if(t===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function K_(r){if(!ht.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y_(r){if(ht.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function QE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function ja(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wc(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,t){const n={typeString:r};return t&&(n.value=t),n}function Ll(r,t){if(!QE(r))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new at(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,$_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*$_);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<X_)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ll(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:we("string",re._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function FR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new jr(l,ht.empty(),t)}function GR(r){return new jr(r.readTime,r.key,Rl)}class jr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new jr(St.min(),ht.empty(),Rl)}static max(){return new jr(St.max(),ht.empty(),Rl)}}function QR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==KR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new X((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):X.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):X.reject(n)}static resolve(t){return new X((n,s)=>{n(t)})}static reject(t){return new X((n,s)=>{s(t)})}static waitFor(t){return new X((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=X.resolve(!1);for(const s of t)n=n.next(l=>l?X.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new X((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{d[_]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new X((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function XR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}th.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function eh(r){return r==null}function kc(r){return r===0&&1/r==-1/0}function $R(r){return typeof r=="number"&&Number.isInteger(r)&&!kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function ZR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Z_(t)),t=JR(r.get(n),t);return Z_(t)}function JR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case KE:n+="";break;default:n+=c}}return n}function Z_(r){return r+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function xs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function YE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Ge(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Gn([])}unionWith(t){let n=new Me(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new XE("Invalid base64 string: "+c):c}}(t);return new Ke(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const n=WR.exec(r);if(Gt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",ZE="__type__",JE="__previous_value__",WE="__local_write_time__";function pm(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===$E}function nh(r){const t=r.mapValue.fields[JE];return pm(t)?nh(t):t}function wl(r){const t=Br(r.mapValue.fields[WE].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n,s,l,c,d,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Lc="(default)";class Il{constructor(t,n){this.projectId=t,this.database=n||Lc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",ew="__max__",pc={mapValue:{}},eT="__vector__",zc="value";function Hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pm(r)?4:iw(r)?9007199254740991:nw(r)?10:11:yt(28295,{value:r})}function yi(r,t){if(r===t)return!0;const n=Hr(r);if(n!==Hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return wl(r).isEqual(wl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Br(l.timestampValue),g=Br(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return qr(l.bytesValue).isEqual(qr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?kc(d)===kc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Fa(r.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(J_(d)!==J_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!yi(d[p],g[p])))return!1;return!0}(r,t);default:return yt(52216,{left:r})}}function Cl(r,t){return(r.values||[]).find(n=>yi(n,t))!==void 0}function Ga(r,t){if(r===t)return 0;const n=Hr(r),s=Hr(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=ge(c.integerValue||c.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return tv(r.timestampValue,t.timestampValue);case 4:return tv(wl(r),wl(t));case 5:return zd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=qr(c),p=qr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=Nt(g[_],p[_]);if(A!==0)return A}return Nt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Nt(ge(c.latitude),ge(d.latitude));return g!==0?g:Nt(ge(c.longitude),ge(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return ev(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,_,A;const w=c.fields||{},D=d.fields||{},q=(g=w[zc])===null||g===void 0?void 0:g.arrayValue,Z=(p=D[zc])===null||p===void 0?void 0:p.arrayValue,tt=Nt(((_=q?.values)===null||_===void 0?void 0:_.length)||0,((A=Z?.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:ev(q,Z)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===pc.mapValue&&d===pc.mapValue)return 0;if(c===pc.mapValue)return 1;if(d===pc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let w=0;w<p.length&&w<A.length;++w){const D=zd(p[w],A[w]);if(D!==0)return D;const q=Ga(g[p[w]],_[A[w]]);if(q!==0)return q}return Nt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw yt(23264,{le:n})}}function tv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=Br(r),s=Br(t),l=Nt(n.seconds,s.seconds);return l!==0?l:Nt(n.nanos,s.nanos)}function ev(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ga(n[l],s[l]);if(c)return c}return Nt(n.length,s.length)}function Qa(r){return jd(r)}function jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Br(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=jd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${jd(n.fields[d])}`;return l+"}"}(r.mapValue):yt(61005,{value:r})}function bc(r){switch(Hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(r);return t?16+bc(t):16;case 5:return 2*r.stringValue.length;case 6:return qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+bc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return xs(s.fields,(c,d)=>{l+=c.length+bc(d)}),l}(r.mapValue);default:throw yt(13486,{value:r})}}function nv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Bd(r){return!!r&&"integerValue"in r}function ym(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rc(r){return!!r&&"mapValue"in r}function nw(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===eT}function vl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return xs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=vl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function iw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Rc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(n)}setAll(t){let n=Qe.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=vl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Rc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){xs(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Pn(vl(this.value))}}function nT(r){const t=[];return xs(r.fields,(n,s)=>{const l=new Qe([n]);if(Rc(s)){const c=nT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,St.min(),St.min(),St.min(),Pn.empty(),0)}static newFoundDocument(t,n,s,l){return new We(t,1,n,St.min(),s,l,0)}static newNoDocument(t,n){return new We(t,2,n,St.min(),St.min(),Pn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,St.min(),St.min(),Pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n){this.position=t,this.inclusive=n}}function sv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),n.key):s=Ga(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n="asc"){this.field=t,this.dir=n}}function rw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class Re extends iT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new aw(t,n,s):n==="array-contains"?new uw(t,s):n==="in"?new cw(t,s):n==="not-in"?new hw(t,s):n==="array-contains-any"?new fw(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new ow(t,s):new lw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ga(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends iT{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Qn(t,n)}matches(t){return rT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function rT(r){return r.op==="and"}function sT(r){return sw(r)&&rT(r)}function sw(r){for(const t of r.filters)if(t instanceof Qn)return!1;return!0}function qd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(sT(r))return r.filters.map(t=>qd(t)).join(",");{const t=r.filters.map(n=>qd(n)).join(",");return`${r.op}(${t})`}}function aT(r,t){return r instanceof Re?function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&yi(s.value,l.value)}(r,t):r instanceof Qn?function(s,l){return l instanceof Qn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&aT(d,l.filters[g]),!0):!1}(r,t):void yt(19439)}function oT(r){return r instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(oT).join(" ,")+"}"}(r):"Filter"}class aw extends Re{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class ow extends Re{constructor(t,n){super(t,"in",n),this.keys=lT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lw extends Re{constructor(t,n){super(t,"not-in",n),this.keys=lT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class uw extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ym(n)&&Cl(n.arrayValue,this.value)}}class cw extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class hw extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cl(this.value.arrayValue,n)}}class fw extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function ov(r,t=null,n=[],s=[],l=null,c=null,d=null){return new dw(r,t,n,s,l,c,d)}function _m(r){const t=bt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>qd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Qa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Qa(s)).join(",")),t.Pe=n}return t.Pe}function vm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!av(r.startAt,t.startAt)&&av(r.endAt,t.endAt)}function Hd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function mw(r,t,n,s,l,c,d,g){return new zl(r,t,n,s,l,c,d,g)}function Em(r){return new zl(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uT(r){return r.collectionGroup!==null}function El(r){const t=bt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const c of t.explicitOrderBy)t.Te.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Te.push(new Bc(c,s))}),n.has(Qe.keyField().canonicalString())||t.Te.push(new Bc(Qe.keyField(),s))}return t.Te}function fi(r){const t=bt(r);return t.Ie||(t.Ie=gw(t,El(r))),t.Ie}function gw(r,t){if(r.limitType==="F")return ov(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Bc(l.field,c)});const n=r.endAt?new jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jc(r.startAt.position,r.startAt.inclusive):null;return ov(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Fd(r,t){const n=r.filters.concat([t]);return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Gd(r,t,n){return new zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function ih(r,t){return vm(fi(r),fi(t))&&r.limitType===t.limitType}function cT(r){return`${_m(fi(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>oT(l)).join(", ")}]`),eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Qa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Qa(l)).join(",")),`Target(${s})`}(fi(r))}; limitType=${r.limitType})`}function rh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of El(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=sv(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,El(s),l)||s.endAt&&!function(d,g,p){const _=sv(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,El(s),l))}(r,t)}function pw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hT(r){return(t,n)=>{let s=!1;for(const l of El(r)){const c=yw(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function yw(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?Ga(p,_):yt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){xs(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new le(ht.comparator);function Xi(){return _w}const fT=new le(ht.comparator);function ml(...r){let t=fT;for(const n of r)t=t.insert(n.key,n);return t}function dT(r){let t=fT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Is(){return Tl()}function mT(){return Tl()}function Tl(){return new Us(r=>r.toString(),(r,t)=>r.isEqual(t))}const vw=new le(ht.comparator),Ew=new Me(ht.comparator);function xt(...r){let t=Ew;for(const n of r)t=t.add(n);return t}const Tw=new Me(Nt);function Aw(){return Tw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function gT(r){return{integerValue:""+r}}function Sw(r,t){return $R(t)?gT(t):Tm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this._=void 0}}function bw(r,t,n){return r instanceof Dl?function(l,c){const d={fields:{[ZE]:{stringValue:$E},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&pm(c)&&(c=nh(c)),c&&(d.fields[JE]=c),{mapValue:d}}(n,t):r instanceof Nl?yT(r,t):r instanceof Ol?_T(r,t):function(l,c){const d=pT(l,c),g=uv(d)+uv(l.Ee);return Bd(d)&&Bd(l.Ee)?gT(g):Tm(l.serializer,g)}(r,t)}function Rw(r,t,n){return r instanceof Nl?yT(r,t):r instanceof Ol?_T(r,t):n}function pT(r,t){return r instanceof qc?function(s){return Bd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Dl extends sh{}class Nl extends sh{constructor(t){super(),this.elements=t}}function yT(r,t){const n=vT(t);for(const s of r.elements)n.some(l=>yi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Ol extends sh{constructor(t){super(),this.elements=t}}function _T(r,t){let n=vT(t);for(const s of r.elements)n=n.filter(l=>!yi(l,s));return{arrayValue:{values:n}}}class qc extends sh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function uv(r){return ge(r.integerValue||r.doubleValue)}function vT(r){return ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n){this.field=t,this.transform=n}}function Iw(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Nl&&l instanceof Nl||s instanceof Ol&&l instanceof Ol?Fa(s.elements,l.elements,yi):s instanceof qc&&l instanceof qc?yi(s.Ee,l.Ee):s instanceof Dl&&l instanceof Dl}(r.transform,t.transform)}class Cw{constructor(t,n){this.version=t,this.transformResults=n}}class di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ah{}function ET(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Am(r.key,di.none()):new jl(r.key,r.data,di.none());{const n=r.data,s=Pn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ks(r.key,s,new Gn(l.toArray()),di.none())}}function Dw(r,t,n){r instanceof jl?function(l,c,d){const g=l.value.clone(),p=hv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof ks?function(l,c,d){if(!wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=hv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(TT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Al(r,t,n,s){return r instanceof jl?function(c,d,g,p){if(!wc(c.precondition,d))return g;const _=c.value.clone(),A=fv(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof ks?function(c,d,g,p){if(!wc(c.precondition,d))return g;const _=fv(c.fieldTransforms,p,d),A=d.data;return A.setAll(TT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(c,d,g){return wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function Nw(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=pT(s.transform,l||null);c!=null&&(n===null&&(n=Pn.empty()),n.set(s.field,c))}return n||null}function cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Fa(s,l,(c,d)=>Iw(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jl extends ah{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ks extends ah{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function hv(r,t,n){const s=new Map;Gt(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Rw(d,g,n[l]))}return s}function fv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,bw(c,d,t))}return s}class Am extends ah{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ow extends ah{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Dw(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Al(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=mT();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=ET(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,(n,s)=>cv(n,s))&&Fa(this.baseMutations,t.baseMutations,(n,s)=>cv(n,s))}}class Sm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Gt(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let l=function(){return vw}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Sm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,jt;function xw(r){switch(r){case Y.OK:return yt(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function AT(r){if(r===void 0)return Yi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return yt(39323,{code:r})}}(jt=be||(be={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Ur([4294967295,4294967295],0);function dv(r){const t=FE().encode(r),n=new UE;return n.update(t),new Uint8Array(n.digest())}function mv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ur([n,s],0),new Ur([l,c],0)]}class bm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(s<0)throw new gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Ur.fromNumber(this.fe)}pe(t,n,s){let l=t.add(n.multiply(Ur.fromNumber(s)));return l.compare(Uw)===1&&(l=new Ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=dv(t),[s,l]=mv(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);if(!this.ye(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new bm(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.fe===0)return;const n=dv(t),[s,l]=mv(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,l,c);this.we(d)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Bl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new oh(St.min(),l,new le(Nt),Xi(),xt())}}class Bl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Bl(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=l}}class ST{constructor(t,n){this.targetId=t,this.De=n}}class bT{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class gv{constructor(){this.ve=0,this.Ce=pv(),this.Fe=Ke.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=xt(),n=xt(),s=xt();return this.Ce.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yt(38017,{changeType:c})}}),new Bl(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=pv()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class kw{constructor(t){this.We=t,this.Ge=new Map,this.ze=Xi(),this.je=yc(),this.Je=yc(),this.He=new le(Nt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:yt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,l)=>{this.nt(l)&&n(l)})}it(t){const n=t.targetId,s=t.De.count,l=this.st(n);if(l){const c=l.target;if(Hd(c))if(s===0){const d=new ht(c.path);this.Xe(n,d,We.newNoDocument(d,St.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this.ot(n);if(d!==s){const g=this._t(t),p=g?this.ut(g,t,d):1;if(p!==0){this.rt(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=qr(s).toUint8Array()}catch(p){if(p instanceof XE)return zr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new bm(d,l,c)}catch(p){return zr(p instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.fe===0?null:g}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Xe(n,c,null),l++)}),l}Pt(t){const n=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&Hd(g.target)){const p=new ht(g.target.path);this.Tt(p).has(d)||this.It(d,p)||this.Xe(d,p,We.newNoDocument(p,t))}c.Ne&&(n.set(d,c.Le()),c.ke())}});let s=xt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this.st(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(t));const l=new oh(t,n,this.He,this.ze,s);return this.ze=Xi(),this.je=yc(),this.Je=yc(),this.He=new le(Nt),l}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const l=this.tt(t);this.It(t,n)?l.qe(n,1):l.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new gv,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Me(Nt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Me(Nt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new gv),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function yc(){return new le(ht.comparator)}function pv(){return new le(ht.comparator)}const Lw={asc:"ASCENDING",desc:"DESCENDING"},zw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jw={and:"AND",or:"OR"};class Bw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qd(r,t){return r.useProto3Json||eh(t)?t:{value:t}}function Hc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qw(r,t){return Hc(r,t.toTimestamp())}function mi(r){return Gt(!!r,49232),St.fromTimestamp(function(n){const s=Br(n);return new re(s.seconds,s.nanos)}(r))}function Rm(r,t){return Kd(r,t).canonicalString()}function Kd(r,t){const n=function(l){return new ne(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function wT(r){const t=ne.fromString(r);return Gt(OT(t),10190,{key:t.toString()}),t}function Yd(r,t){return Rm(r.databaseId,t.path)}function wd(r,t){const n=wT(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(CT(n))}function IT(r,t){return Rm(r.databaseId,t)}function Hw(r){const t=wT(r);return t.length===4?ne.emptyPath():CT(t)}function Xd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CT(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yv(r,t,n){return{name:Yd(r,t),fields:n.value.mapValue.fields}}function Fw(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Y.UNKNOWN:AT(_.code);return new at(A,_.message||"")}(d);n=new bT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=wd(r,s.document.name),c=mi(s.document.updateTime),d=s.document.createTime?mi(s.document.createTime):St.min(),g=new Pn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Ic(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=wd(r,s.document),c=s.readTime?mi(s.readTime):St.min(),d=We.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Ic([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=wd(r,s.document),c=s.removedTargetIds||[];n=new Ic([],c,l,null)}else{if(!("filter"in t))return yt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Pw(l,c),g=s.targetId;n=new ST(g,d)}}return n}function Gw(r,t){let n;if(t instanceof jl)n={update:yv(r,t.key,t.value)};else if(t instanceof Am)n={delete:Yd(r,t.key)};else if(t instanceof ks)n={update:yv(r,t.key,t.data),updateMask:tI(t.fieldMask)};else{if(!(t instanceof Ow))return yt(16599,{Rt:t.type});n={verify:Yd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Dl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw yt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:qw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)}(r,t.precondition)),n}function Qw(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?mi(l.updateTime):mi(c);return d.isEqual(St.min())&&(d=mi(c)),new Cw(d,l.transformResults||[])}(n,t))):[]}function Kw(r,t){return{documents:[IT(r,t.path)]}}function Yw(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IT(r,l);const c=function(_){if(_.length!==0)return NT(Qn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:Pa(D.field),direction:Zw(D.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Qd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{Vt:n,parent:l}}function Xw(r){let t=Hw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Gt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(w){const D=DT(w);return D instanceof Qn&&sT(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(w){return w.map(D=>function(Z){return new Bc(xa(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(w){let D;return D=typeof w=="object"?w.value:w,eh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(w){const D=!!w.before,q=w.values||[];return new jc(q,D)}(n.startAt));let _=null;return n.endAt&&(_=function(w){const D=!w.before,q=w.values||[];return new jc(q,D)}(n.endAt)),mw(t,l,d,c,g,"F",p,_)}function $w(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xa(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=xa(n.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xa(n.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xa(n.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Re.create(xa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>DT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(n.compositeFilter.op))}(r):yt(30097,{filter:r})}function Zw(r){return Lw[r]}function Jw(r){return zw[r]}function Ww(r){return jw[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function xa(r){return Qe.fromServerFormat(r.fieldPath)}function NT(r){return r instanceof Re?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:Jw(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(l=>NT(l));return s.length===1?s[0]:{compositeFilter:{op:Ww(n.op),filters:s}}}(r):yt(54877,{filter:r})}function tI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function OT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n,s,l,c=St.min(),d=St.min(),g=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.gt=t}}function nI(r){const t=Xw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Dn=new rI}addToCollectionParentIndex(t,n){return this.Dn.add(n),X.resolve()}getCollectionParents(t,n){return X.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return X.resolve()}deleteFieldIndex(t,n){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,n){return X.resolve()}getDocumentsMatchingTarget(t,n){return X.resolve(null)}getIndexType(t,n){return X.resolve(0)}getFieldIndexes(t,n){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,n){return X.resolve(jr.min())}getMinOffsetFromCollectionGroup(t,n){return X.resolve(jr.min())}updateCollectionGroup(t,n,s){return X.resolve()}updateIndexEntries(t,n){return X.resolve()}}class rI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Me(ne.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(VT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Ka(0)}static ur(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",sI=1048576;function Ev([r,t],[n,s]){const l=Nt(r,n);return l===0?Nt(t,s):l}class aI{constructor(t){this.Tr=t,this.buffer=new Me(Ev),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ev(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(vv,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?st(vv,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.Rr(3e5)})}}class lI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return X.resolve(th.ue);const s=new aI(n);return this.Vr.forEachTarget(t,l=>s.Er(l.sequenceNumber)).next(()=>this.Vr.gr(t,l=>s.Er(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(_v)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l))).next(w=>(s=w,g=Date.now(),this.removeTargets(t,s,n))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(_=Date.now(),Va()<=Pt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w})))}}function uI(r,t){return new lI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.changes=new Us(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Al(s.mutation,l,Gn.empty(),re.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const l=Is();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=ml();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Is();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=Xi();const d=Tl(),g=function(){return Tl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ks)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Al(A.mutation,_,A.mutation.getFieldMask(),re.now())):d.set(_.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>d.set(_,A)),n.forEach((_,A)=>{var w;return g.set(_,new hI(A,(w=d.get(_))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Tl();let l=new le((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||Gn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const w=(l.get(g.batchId)||xt()).add(p);l=l.insert(g.batchId,w)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,w=mT();A.forEach(D=>{if(!c.has(D)){const q=ET(n.get(D),s.get(D));q!==null&&w.set(D,q),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):X.resolve(Is());let g=Rl,p=c;return d.next(_=>X.forEach(_,(A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next(D=>{p=p.insert(A,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,xt())).next(A=>({batchId:g,changes:dT(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let l=ml();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next(g=>X.forEach(g,p=>{const _=function(w,D){return new zl(D,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((w,D)=>{d=d.insert(w,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))});let g=ml();return d.forEach((p,_)=>{const A=c.get(p);A!==void 0&&Al(A.mutation,_,Gn.empty(),re.now()),rh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return X.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(l){return{id:l.id,version:l.version,createTime:mi(l.createTime)}}(n)),X.resolve()}getNamedQuery(t,n){return X.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(l){return{name:l.name,query:nI(l.bundledQuery),readTime:mi(l.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.overlays=new le(ht.comparator),this.kr=new Map}getOverlay(t,n){return X.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Is();return X.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.wt(t,n,c)}),X.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.kr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),X.resolve()}getOverlaysForCollection(t,n,s){const l=Is(),c=n.length+1,d=new ht(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new le((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Is(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Is(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return X.resolve(g)}wt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.kr.get(l.largestBatchId).delete(s.key);this.kr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Mw(n,s));let c=this.kr.get(n);c===void 0&&(c=xt(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.qr=new Me(ze.Qr),this.$r=new Me(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new ze(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new ht(new ne([])),s=new ze(n,t),l=new ze(n,t+1),c=[];return this.$r.forEachInRange([s,l],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new ht(new ne([])),s=new ze(n,t),l=new ze(n,t+1);let c=xt();return this.$r.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new ze(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return ht.comparator(t.key,n.key)||Nt(t.Hr,n.Hr)}static Ur(t,n){return Nt(t.Hr,n.Hr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Me(ze.Qr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vw(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Yr=this.Yr.add(new ze(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,n){return X.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?gm:this.er-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),l=new ze(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,l],d=>{const g=this.Zr(d.Hr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(Nt);return n.forEach(l=>{const c=new ze(l,0),d=new ze(l,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),X.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new ze(new ht(c),0);let g=new Me(Nt);return this.Yr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Hr)),!0)},d),X.resolve(this.ei(g))}ei(t){const n=[];return t.forEach(s=>{const l=this.Zr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Gt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return X.forEach(n.mutations,l=>{const c=new ze(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new ze(n,0),l=this.Yr.firstAfterOrEqual(s);return X.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.ni=t,this.docs=function(){return new le(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=Xi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))}),X.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=Xi();const d=n.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||QR(GR(A),s)<=0||(l.has(A.key)||rh(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,n,s,l){yt(9500)}ri(t,n){return X.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new _I(this)}getSize(t){return X.resolve(this.size)}}class _I extends cI{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Or.addEntry(t,l)):this.Or.removeEntry(s)}),X.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t){this.persistence=t,this.ii=new Us(n=>_m(n),vm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new wm,this.targetCount=0,this._i=Ka.ar()}forEachTarget(t,n){return this.ii.forEach((s,l)=>n(l)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),X.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Ka(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,X.resolve()}updateTargetData(t,n){return this.hr(n),X.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),X.waitFor(c).next(()=>l)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return X.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),X.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),X.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),X.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return X.resolve(s)}containsKey(t,n){return X.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.ai={},this.overlays={},this.ui=new th(0),this.ci=!1,this.ci=!0,this.li=new gI,this.referenceDelegate=t(this),this.hi=new vI(this),this.indexManager=new iI,this.remoteDocumentCache=function(l){return new yI(l)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new eI(n),this.Ti=new dI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new pI(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const l=new EI(this.ui.next());return this.referenceDelegate.Ii(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ei(t,n){return X.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class EI extends YR{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.Ai=new wm,this.Ri=null}static Vi(t){return new Im(t)}get mi(){if(this.Ri)return this.Ri;throw yt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),X.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),X.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(l=>this.mi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.mi,s=>{const l=ht.fromPath(s);return this.fi(t,l).next(c=>{c||n.removeEntry(l,St.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return X.or([()=>X.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Fc{constructor(t,n){this.persistence=t,this.gi=new Us(s=>ZR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=uI(this,n)}static Vi(t,n){return new Fc(t,n)}Ii(){}di(t){return X.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return X.forEach(this.gi,(s,l)=>this.Sr(t,s,l).next(c=>c?X.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ri(t,d=>this.Sr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,St.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),X.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),X.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=bc(t.data.value)),n}Sr(t,n,s){return X.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.gi.get(n);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=l}static Es(t,n){let s=xt(),l=xt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return mS()?8:XR(tn())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ps(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new TI;return this.ws(t,n,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(t,n,d,g.size)})}).next(()=>c.result)}Ss(t,n,s,l){return s.documentReadCount<this.Vs?(Va()<=Pt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Va()<=Pt.DEBUG&&st("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.fs*l?(Va()<=Pt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(n))):X.resolve())}ps(t,n){if(lv(n))return X.resolve(null);let s=fi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Gd(n,null,"F"),s=fi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=xt(...c);return this.gs.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.bs(n,g);return this.Ds(n,_,d,p.readTime)?this.ps(t,Gd(n,null,"F")):this.vs(t,_,n,p)}))})))}ys(t,n,s,l){return lv(n)||l.isEqual(St.min())?X.resolve(null):this.gs.getDocuments(t,s).next(c=>{const d=this.bs(n,c);return this.Ds(n,d,s,l)?X.resolve(null):(Va()<=Pt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(n)),this.vs(t,d,n,FR(l,Rl)).next(g=>g))})}bs(t,n){let s=new Me(hT(t));return n.forEach((l,c)=>{rh(t,c)&&(s=s.add(c))}),s}Ds(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ws(t,n,s){return Va()<=Pt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.gs.getDocumentsMatchingQuery(t,n,jr.min(),s)}vs(t,n,s,l){return this.gs.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",SI=3e8;class bI{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.Fs=new le(Nt),this.Ms=new Us(c=>_m(c),vm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function RI(r,t,n,s){return new bI(r,t,n,s)}async function PT(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=xt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:g}))})})}function wI(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const w=_.batch,D=w.keys();let q=X.resolve();return D.forEach(Z=>{q=q.next(()=>A.getEntry(p,Z)).next(tt=>{const J=_.docVersions.get(Z);Gt(J!==null,48541),tt.version.compareTo(J)<0&&(w.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function xT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function II(r,t){const n=bt(r),s=t.snapshotVersion;let l=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Os.newChangeBuffer({trackRemovals:!0});l=n.Fs;const g=[];t.targetChanges.forEach((A,w)=>{const D=l.get(w);if(!D)return;g.push(n.hi.removeMatchingKeys(c,A.removedDocuments,w).next(()=>n.hi.addMatchingKeys(c,A.addedDocuments,w)));let q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(Ke.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),l=l.insert(w,q),function(tt,J,_t){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=SI?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(D,q,A)&&g.push(n.hi.updateTargetData(c,q))});let p=Xi(),_=xt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(CI(c,d,t.documentUpdates).next(A=>{p=A.Ls,_=A.ks})),!s.isEqual(St.min())){const A=n.hi.getLastRemoteSnapshotVersion(c).next(w=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return X.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Fs=l,c))}function CI(r,t,n){let s=xt(),l=xt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Xi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):st(Dm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{Ls:d,ks:l}})}function DI(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=gm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function NI(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.hi.getTargetData(s,t).next(c=>c?(l=c,X.resolve(l)):n.hi.allocateTargetId(s).next(d=>(l=new Or(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Fs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function $d(r,t,n){const s=bt(r),l=s.Fs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!to(d))throw d;st(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(l.target)}function Tv(r,t,n){const s=bt(r);let l=St.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,A){const w=bt(p),D=w.Ms.get(A);return D!==void 0?X.resolve(w.Fs.get(D)):w.hi.getTargetData(_,A)}(s,d,fi(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,t,n?l:St.min(),n?c:xt())).next(g=>(OI(s,pw(t),g),{documents:g,qs:c})))}function OI(r,t,n){let s=r.xs.get(t)||St.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(t,s)}class Av{constructor(){this.activeTargetIds=Aw()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VI{constructor(){this.Fo=new Av,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Av,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class bv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function Zd(){return _c===null?_c=function(){return 268435456+Math.round(2147483648*Math.random())}():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="RestConnection",PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xI{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.Ko=this.databaseId.database===Lc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,c){const d=Zd(),g=this.Go(t,n.toUriEncodedString());st(Id,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,l,c);const{host:_}=new URL(g),A=Xa(_);return this.jo(t,g,p,s,A).then(w=>(st(Id,`Received RPC '${t}' ${d}: `,w),w),w=>{throw zr(Id,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",s),w})}Jo(t,n,s,l,c,d){return this.Wo(t,n,s,l,c)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}Go(t,n){const s=PI[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class kI extends xI{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,l,c){const d=Zd();return new Promise((g,p)=>{const _=new kE;_.setWithCredentials(!0),_.listenOnce(LE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Sc.NO_ERROR:const w=_.getResponseJson();st(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Sc.TIMEOUT:st(Ze,`RPC '${t}' ${d} timed out`),p(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const D=_.getStatus();if(st(Ze,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const tt=function(_t){const dt=_t.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(dt)>=0?dt:Y.UNKNOWN}(Z.status);p(new at(tt,Z.message))}else p(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new at(Y.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{c_:t,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{st(Ze,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);st(Ze,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",A,s,15)})}P_(t,n,s){const l=Zd(),c=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=BE(),g=jE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");st(Ze,`Creating RPC '${t}' stream ${l}: ${A}`,p);const w=d.createWebChannel(A,p);this.T_(w);let D=!1,q=!1;const Z=new UI({Ho:J=>{q?st(Ze,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(st(Ze,`Opening RPC '${t}' stream ${l} transport.`),w.open(),D=!0),st(Ze,`RPC '${t}' stream ${l} sending:`,J),w.send(J))},Yo:()=>w.close()}),tt=(J,_t,dt)=>{J.listen(_t,it=>{try{dt(it)}catch(At){setTimeout(()=>{throw At},0)}})};return tt(w,dl.EventType.OPEN,()=>{q||(st(Ze,`RPC '${t}' stream ${l} transport opened.`),Z.s_())}),tt(w,dl.EventType.CLOSE,()=>{q||(q=!0,st(Ze,`RPC '${t}' stream ${l} transport closed`),Z.__(),this.I_(w))}),tt(w,dl.EventType.ERROR,J=>{q||(q=!0,zr(Ze,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.__(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),tt(w,dl.EventType.MESSAGE,J=>{var _t;if(!q){const dt=J.data[0];Gt(!!dt,16349);const it=dt,At=it?.error||((_t=it[0])===null||_t===void 0?void 0:_t.error);if(At){st(Ze,`RPC '${t}' stream ${l} received error:`,At);const ft=At.status;let Rt=function(b){const V=be[b];if(V!==void 0)return AT(V)}(ft),O=At.message;Rt===void 0&&(Rt=Y.INTERNAL,O="Unknown error status: "+ft+" with message "+At.message),q=!0,Z.__(new at(Rt,O)),w.close()}else st(Ze,`RPC '${t}' stream ${l} received:`,dt),Z.a_(dt)}}),tt(g,zE.STAT_EVENT,J=>{J.stat===Ld.PROXY?st(Ze,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Ld.NOPROXY&&st(Ze,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.o_()},0),Z}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r){return new Bw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=l,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),l=Math.max(0,n-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,l,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="PersistentStream";class kT{constructor(t,n,s,l,c,d,g,p){this.Fi=t,this.w_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new UT(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.b_===n&&this.W_(s,l)},s=>{t(()=>{const l=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(l)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(l=>{s(()=>this.G_(l))}),this.stream.onMessage(l=>{s(()=>++this.C_==1?this.j_(l):this.onNext(l))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return st(Rv,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(st(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LI extends kT{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=Fw(this.serializer,t),s=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?mi(d.readTime):St.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=Xd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=Hd(p)?{documents:Kw(c,p)}:{query:Yw(c,p).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=RT(c,d.resumeToken);const _=Qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Hc(c,d.snapshotVersion.toTimestamp());const _=Qd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=$w(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=Xd(this.serializer),n.removeTarget=t,this.k_(n)}}class zI extends kT{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=Qw(t.writeResults,t.commitTime),s=mi(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=Xd(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>Gw(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{}class BI extends jI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ra=!1}ia(){if(this.ra)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(t,Kd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())})}Jo(t,n,s,l,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(t,Kd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class qI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Yi(n),this._a=!1):st("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class HI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Ls(this)&&(st(Ps,"Restarting streams for network reachability change."),await async function(p){const _=bt(p);_.Ia.add(4),await ql(_),_.Aa.set("Unknown"),_.Ia.delete(4),await uh(_)}(this))})}),this.Aa=new qI(s,l)}}async function uh(r){if(Ls(r))for(const t of r.da)await t(!0)}async function ql(r){for(const t of r.da)await t(!1)}function LT(r,t){const n=bt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Mm(n)?Vm(n):eo(n).x_()&&Om(n,t))}function Nm(r,t){const n=bt(r),s=eo(n);n.Ta.delete(t),s.x_()&&zT(n,t),n.Ta.size===0&&(s.x_()?s.B_():Ls(n)&&n.Aa.set("Unknown"))}function Om(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eo(r).H_(t)}function zT(r,t){r.Ra.$e(t),eo(r).Y_(t)}function Vm(r){r.Ra=new kw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.Aa.aa()}function Mm(r){return Ls(r)&&!eo(r).M_()&&r.Ta.size>0}function Ls(r){return bt(r).Ia.size===0}function jT(r){r.Ra=void 0}async function FI(r){r.Aa.set("Online")}async function GI(r){r.Ta.forEach((t,n)=>{Om(r,t)})}async function QI(r,t){jT(r),Mm(r)?(r.Aa.la(t),Vm(r)):r.Aa.set("Unknown")}async function KI(r,t,n){if(r.Aa.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ta.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ta.delete(g),l.Ra.removeTarget(g))}(r,t)}catch(s){st(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Gc(r,s)}else if(t instanceof Ic?r.Ra.Ye(t):t instanceof ST?r.Ra.it(t):r.Ra.et(t),!n.isEqual(St.min()))try{const s=await xT(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ta.get(_);A&&c.Ta.set(_,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const A=c.Ta.get(p);if(!A)return;c.Ta.set(p,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),zT(c,p);const w=new Or(A.target,p,_,A.sequenceNumber);Om(c,w)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){st(Ps,"Failed to raise snapshot:",s),await Gc(r,s)}}async function Gc(r,t,n){if(!to(t))throw t;r.Ia.add(1),await ql(r),r.Aa.set("Offline"),n||(n=()=>xT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Ps,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await uh(r)})}function BT(r,t){return t().catch(n=>Gc(r,n,t))}async function ch(r){const t=bt(r),n=Fr(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:gm;for(;YI(t);)try{const l=await DI(t.localStore,s);if(l===null){t.Pa.length===0&&n.B_();break}s=l.batchId,XI(t,l)}catch(l){await Gc(t,l)}qT(t)&&HT(t)}function YI(r){return Ls(r)&&r.Pa.length<10}function XI(r,t){r.Pa.push(t);const n=Fr(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function qT(r){return Ls(r)&&!Fr(r).M_()&&r.Pa.length>0}function HT(r){Fr(r).start()}async function $I(r){Fr(r).na()}async function ZI(r){const t=Fr(r);for(const n of r.Pa)t.X_(n.mutations)}async function JI(r,t,n){const s=r.Pa.shift(),l=Sm.from(s,t,n);await BT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ch(r)}async function WI(r,t){t&&Fr(r).Z_&&await async function(s,l){if(function(d){return xw(d)&&d!==Y.ABORTED}(l.code)){const c=s.Pa.shift();Fr(s).N_(),await BT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await ch(s)}}(r,t),qT(r)&&HT(r)}async function wv(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),st(Ps,"RemoteStore received new credentials");const s=Ls(n);n.Ia.add(3),await ql(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await uh(n)}async function tC(r,t){const n=bt(r);t?(n.Ia.delete(2),await uh(n)):t||(n.Ia.add(2),await ql(n),n.Aa.set("Unknown"))}function eo(r){return r.Va||(r.Va=function(n,s,l){const c=bt(n);return c.ia(),new LI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:FI.bind(null,r),e_:GI.bind(null,r),n_:QI.bind(null,r),J_:KI.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Mm(r)?Vm(r):r.Aa.set("Unknown")):(await r.Va.stop(),jT(r))})),r.Va}function Fr(r){return r.ma||(r.ma=function(n,s,l){const c=bt(n);return c.ia(),new zI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:$I.bind(null,r),n_:WI.bind(null,r),ea:ZI.bind(null,r),ta:JI.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await ch(r)):(await r.ma.stop(),r.Pa.length>0&&(st(Ps,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new Pm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(r,t){if(Yi("AsyncQueue",`${t}: ${r}`),to(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.fa=new le(ht.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):yt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ya{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Ya(t,n,Ba.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class nC{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const l=bt(n),c=l.queries;l.queries=Cv(),c.forEach((d,g)=>{for(const p of g.wa)p.onError(s)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function Cv(){return new Us(r=>cT(r),ih)}async function iC(r,t){const n=bt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Sa()&&t.ba()&&(s=2):(c=new eC,s=t.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(l,!0);break;case 1:c.ya=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=xm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.wa.push(t),t.va(n.onlineState),c.ya&&t.Ca(c.ya)&&Um(n)}async function rC(r,t){const n=bt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.wa.indexOf(t);d>=0&&(c.wa.splice(d,1),c.wa.length===0?l=t.ba()?0:1:!c.Sa()&&t.ba()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sC(r,t){const n=bt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.wa)g.Ca(l)&&(s=!0);d.ya=l}}s&&Um(n)}function aC(r,t,n){const s=bt(r),l=s.queries.get(t);if(l)for(const c of l.wa)c.onError(n);s.queries.delete(t)}function Um(r){r.Da.forEach(t=>{t.next()})}var Jd,Dv;(Dv=Jd||(Jd={})).Fa="default",Dv.Cache="cache";class oC{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t){this.key=t}}class GT{constructor(t){this.key=t}}class lC{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xt(),this.mutatedKeys=xt(),this.Xa=hT(t),this.eu=new Ba(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new Iv,l=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,w)=>{const D=l.get(A),q=rh(this.query,w)?w:null,Z=!!D&&this.mutatedKeys.has(D.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;D&&q?D.data.isEqual(q.data)?Z!==tt&&(s.track({type:3,doc:q}),J=!0):this.iu(D,q)||(s.track({type:2,doc:q}),J=!0,(p&&this.Xa(q,p)>0||_&&this.Xa(q,_)<0)&&(g=!0)):!D&&q?(s.track({type:0,doc:q}),J=!0):D&&!q&&(s.track({type:1,doc:D}),J=!0,(p||_)&&(g=!0)),J&&(q?(d=d.add(q),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort((A,w)=>function(q,Z){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{At:J})}};return tt(q)-tt(Z)}(A.type,w.type)||this.Xa(A.doc,w.doc)),this.su(s),l=l!=null&&l;const g=n&&!l?this.ou():[],p=this.Za.size===0&&this.current&&!l?1:0,_=p!==this.Ya;return this.Ya=p,d.length!==0||_?{snapshot:new Ya(this.query,t.eu,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Iv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=xt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new GT(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new FT(s))}),n}uu(t){this.Ha=t.qs,this.Za=xt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Ya.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const km="SyncEngine";class uC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class cC{constructor(t){this.key=t,this.lu=!1}}class hC{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Us(g=>cT(g),ih),this.Tu=new Map,this.Iu=new Set,this.du=new le(ht.comparator),this.Eu=new Map,this.Au=new wm,this.Ru={},this.Vu=new Map,this.mu=Ka.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function fC(r,t,n=!0){const s=ZT(r);let l;const c=s.Pu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.cu()):l=await QT(s,t,n,!0),l}async function dC(r,t){const n=ZT(r);await QT(n,t,!0,!1)}async function QT(r,t,n,s){const l=await NI(r.localStore,fi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await mC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&LT(r.remoteStore,l),g}async function mC(r,t,n,s,l){r.gu=(w,D,q)=>async function(tt,J,_t,dt){let it=J.view.nu(_t);it.Ds&&(it=await Tv(tt.localStore,J.query,!1).then(({documents:O})=>J.view.nu(O,it)));const At=dt&&dt.targetChanges.get(J.targetId),ft=dt&&dt.targetMismatches.get(J.targetId)!=null,Rt=J.view.applyChanges(it,tt.isPrimaryClient,At,ft);return Ov(tt,J.targetId,Rt._u),Rt.snapshot}(r,w,D,q);const c=await Tv(r.localStore,t,!0),d=new lC(t,c.qs),g=d.nu(c.documents),p=Bl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);Ov(r,n,_._u);const A=new uC(t,n,d);return r.Pu.set(t,A),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),_.snapshot}async function gC(r,t,n){const s=bt(r),l=s.Pu.get(t),c=s.Tu.get(l.targetId);if(c.length>1)return s.Tu.set(l.targetId,c.filter(d=>!ih(d,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await $d(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Nm(s.remoteStore,l.targetId),Wd(s,l.targetId)}).catch(Wa)):(Wd(s,l.targetId),await $d(s.localStore,l.targetId,!0))}async function pC(r,t){const n=bt(r),s=n.Pu.get(t),l=n.Tu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Nm(n.remoteStore,s.targetId))}async function yC(r,t,n){const s=bC(r);try{const l=await function(d,g){const p=bt(d),_=re.now(),A=g.reduce((q,Z)=>q.add(Z.key),xt());let w,D;return p.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Z=Xi(),tt=xt();return p.Os.getEntries(q,A).next(J=>{Z=J,Z.forEach((_t,dt)=>{dt.isValidDocument()||(tt=tt.add(_t))})}).next(()=>p.localDocuments.getOverlayedDocuments(q,Z)).next(J=>{w=J;const _t=[];for(const dt of g){const it=Nw(dt,w.get(dt.key).overlayedDocument);it!=null&&_t.push(new ks(dt.key,it,nT(it.value.mapValue),di.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,_t,g)}).next(J=>{D=J;const _t=J.applyToLocalDocumentSet(w,tt);return p.documentOverlayCache.saveOverlays(q,J.batchId,_t)})}).then(()=>({batchId:D.batchId,changes:dT(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Ru[d.currentUser.toKey()];_||(_=new le(Nt)),_=_.insert(g,p),d.Ru[d.currentUser.toKey()]=_}(s,l.batchId,n),await Hl(s,l.changes),await ch(s.remoteStore)}catch(l){const c=xm(l,"Failed to persist write");n.reject(c)}}async function KT(r,t){const n=bt(r);try{const s=await II(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.lu=!0:l.modifiedDocuments.size>0?Gt(d.lu,14607):l.removedDocuments.size>0&&(Gt(d.lu,42227),d.lu=!1))}),await Hl(n,s,t)}catch(s){await Wa(s)}}function Nv(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Pu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=bt(d);p.onlineState=g;let _=!1;p.queries.forEach((A,w)=>{for(const D of w.wa)D.va(g)&&(_=!0)}),_&&Um(p)}(s.eventManager,t),l.length&&s.hu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function _C(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,We.newNoDocument(c,St.min()));const g=xt().add(c),p=new oh(St.min(),new Map,new le(Nt),d,g);await KT(s,p),s.du=s.du.remove(c),s.Eu.delete(t),Lm(s)}else await $d(s.localStore,t,!1).then(()=>Wd(s,t,n)).catch(Wa)}async function vC(r,t){const n=bt(r),s=t.batch.batchId;try{const l=await wI(n.localStore,t);XT(n,s,null),YT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Hl(n,l)}catch(l){await Wa(l)}}async function EC(r,t,n){const s=bt(r);try{const l=await function(d,g){const p=bt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(w=>(Gt(w!==null,37113),A=w.keys(),p.mutationQueue.removeMutationBatch(_,w))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);XT(s,t,n),YT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Hl(s,l)}catch(l){await Wa(l)}}function YT(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function XT(r,t,n){const s=bt(r);let l=s.Ru[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Ru[s.currentUser.toKey()]=l}}function Wd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||$T(r,s)})}function $T(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Nm(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Lm(r))}function Ov(r,t,n){for(const s of n)s instanceof FT?(r.Au.addReference(s.key,t),TC(r,s)):s instanceof GT?(st(km,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||$T(r,s.key)):yt(19791,{yu:s})}function TC(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(st(km,"New document in limbo: "+n),r.Iu.add(s),Lm(r))}function Lm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new ht(ne.fromString(t)),s=r.mu.next();r.Eu.set(s,new cC(n)),r.du=r.du.insert(n,s),LT(r.remoteStore,new Or(fi(Em(n.path)),s,"TargetPurposeLimboResolution",th.ue))}}async function Hl(r,t,n){const s=bt(r),l=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,p)=>{d.push(s.gu(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(A=n?.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(_){l.push(_);const w=Cm.Es(p.targetId,_);c.push(w)}}))}),await Promise.all(d),s.hu.J_(l),await async function(p,_){const A=bt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(_,D=>X.forEach(D.Is,q=>A.persistence.referenceDelegate.addReference(w,D.targetId,q)).next(()=>X.forEach(D.ds,q=>A.persistence.referenceDelegate.removeReference(w,D.targetId,q)))))}catch(w){if(!to(w))throw w;st(Dm,"Failed to update sequence numbers: "+w)}for(const w of _){const D=w.targetId;if(!w.fromCache){const q=A.Fs.get(D),Z=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(Z);A.Fs=A.Fs.insert(D,tt)}}}(s.localStore,c))}async function AC(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){st(km,"User change. New user:",t.toKey());const s=await PT(n.localStore,t);n.currentUser=t,function(c,d){c.Vu.forEach(g=>{g.forEach(p=>{p.reject(new at(Y.CANCELLED,d))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hl(n,s.Bs)}}function SC(r,t){const n=bt(r),s=n.Eu.get(t);if(s&&s.lu)return xt().add(s.key);{let l=xt();const c=n.Tu.get(t);if(!c)return l;for(const d of c){const g=n.Pu.get(d);l=l.unionWith(g.view.tu)}return l}}function ZT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_C.bind(null,t),t.hu.J_=sC.bind(null,t.eventManager),t.hu.pu=aC.bind(null,t.eventManager),t}function bC(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=EC.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=lh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return RI(this.persistence,new AI,t.initialUser,this.serializer)}Du(t){return new MT(Im.Vi,this.serializer)}bu(t){return new VI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class RC extends Qc{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Gt(this.persistence.referenceDelegate instanceof Fc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oI(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new MT(s=>Fc.Vi(s,n),this.serializer)}}class tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AC.bind(null,this.syncEngine),await tC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nC}()}createDatastore(t){const n=lh(t.databaseInfo.databaseId),s=function(c){return new kI(c)}(t.databaseInfo);return function(c,d,g,p){return new BI(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new HI(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Nv(this.syncEngine,n,0),function(){return bv.C()?new bv:new MI}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,A){const w=new hC(l,c,d,g,p,_);return A&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=bt(l);st(Ps,"RemoteStore shutting down."),c.Ia.add(5),await ql(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class IC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{st(Gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=xm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Dd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Gr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await PT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>{zr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(l=>{zr("Terminating Firestore due to IndexedDb database deletion failed",l)})}),r._offlineComponents=t}async function Vv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await CC(r);st(Gr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>wv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>wv(t.remoteStore,l)),r._onlineComponents=t}async function CC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Gr,"Using user provided OfflineComponentProvider");try{await Dd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;zr("Error using user provided cache. Falling back to memory cache: "+n),await Dd(r,new Qc)}}else st(Gr,"Using default OfflineComponentProvider"),await Dd(r,new RC(void 0));return r._offlineComponents}async function JT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Gr,"Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(st(Gr,"Using default OnlineComponentProvider"),await Vv(r,new tm))),r._onlineComponents}function DC(r){return JT(r).then(t=>t.syncEngine)}async function Mv(r){const t=await JT(r),n=t.eventManager;return n.onListen=fC.bind(null,t.syncEngine),n.onUnlisten=gC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firestore.googleapis.com",xv=!0;class Uv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=xv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sI)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PR;switch(s.type){case"firstParty":return new LR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Pv.get(n);s&&(st("ComponentProvider","Removing Datastore"),Pv.delete(n),s.terminate())}(this),Promise.resolve()}}function NC(r,t,n,s={}){var l;r=ja(r,hh);const c=Xa(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&($v(`https://${p}`),Zv("Firestore",!0)),d.host!==t0&&d.host!==p&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!Ns(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,w;if(typeof s.mockUserToken=="string")A=s.mockUserToken,w=Je.MOCK_USER;else{A=sS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Je(D)}r._authCredentials=new xR(new HE(A,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new no(this.firestore,t,this._query)}}class Ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ll(n,Ve._jsonSchema))return new Ve(t,s||null,new ht(ne.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:we("string",Ve._jsonSchemaVersion),referencePath:we("string")};class kr extends no{constructor(t,n,s){super(t,n,Em(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new ht(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function e0(r,t,...n){if(r=cn(r),GE("collection","path",t),r instanceof hh){const s=ne.fromString(t,...n);return Y_(s),new kr(r,null,s)}{if(!(r instanceof Ve||r instanceof kr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Y_(s),new kr(r.firestore,null,s)}}function n0(r,t,...n){if(r=cn(r),arguments.length===1&&(t=mm.newId()),GE("doc","path",t),r instanceof hh){const s=ne.fromString(t,...n);return K_(s),new Ve(r,null,new ht(s))}{if(!(r instanceof Ve||r instanceof kr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return K_(s),new Ve(r.firestore,r instanceof kr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="AsyncQueue";class Lv{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new UT(this,"async_queue_retry"),this.oc=()=>{const s=Cd();s&&st(kv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Cd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Cs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!to(t))throw t;st(kv,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,Yi("INTERNAL UNHANDLED ERROR: ",zv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const l=Pm.createAndSchedule(this,t,n,s,c=>this.lc(c));return this.ec.push(l),l}ac(){this.tc&&yt(47125,{hc:zv(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function zv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Vl extends hh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lv(t),this._firestoreClient=void 0,await t}}}function OC(r,t){const n=typeof r=="object"?r:eE(),s=typeof r=="string"?r:Lc,l=rm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=iS("firestore");c&&NC(l,...c)}return l}function i0(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VC(r),r._firestoreClient}function VC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new tw(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,WT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new IC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g?._online.build();return{_offline:g?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Ke.fromBase64String(t))}catch(n){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ll(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:we("string",xn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(t){if(Ll(t,gi._jsonSchema))return new gi(t.latitude,t.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:we("string",gi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ll(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new pi(t.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:we("string",pi._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^__.*__$/;class PC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,n,this.fieldTransforms):new jl(t,this.data,n,this.fieldTransforms)}}function r0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ec:r})}}class Bm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Bm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.fc(t),l}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.Rc({path:s,mc:!1});return l.Ac(),l}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Kc(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(r0(this.Ec)&&MC.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class xC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||lh(t)}Dc(t,n,s,l=!1){return new Bm({Ec:t,methodName:n,bc:s,path:Qe.emptyPath(),mc:!1,Sc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s0(r){const t=r._freezeSettings(),n=lh(r._databaseId);return new xC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function UC(r,t,n,s,l,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,t,n,l);l0("Data must be an object, but it was:",d,s);const g=a0(s,d);let p,_;if(c.merge)p=new Gn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const D=LC(t,w,n);if(!d.contains(D))throw new at(Y.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);jC(A,D)||A.push(D)}p=new Gn(A),_=d.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,_=d.fieldTransforms;return new PC(new Pn(g),p,_)}class qm extends jm{_toFieldTransform(t){return new ww(t.path,new Dl)}isEqual(t){return t instanceof qm}}function kC(r,t,n,s=!1){return Hm(n,r.Dc(s?4:3,t))}function Hm(r,t){if(o0(r=cn(r)))return l0("Unsupported field value:",t,r),a0(r,t);if(r instanceof jm)return function(s,l){if(!r0(l.Ec))throw l.wc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=Hm(g,l.yc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Sw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:Hc(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,c)}}if(s instanceof gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:RT(l.serializer,s._byteString)};if(s instanceof Ve){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Rm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof pi)return function(d,g){return{mapValue:{fields:{[tT]:{stringValue:eT},[zc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return Tm(g.serializer,_)})}}}}}}(s,l);throw l.wc(`Unsupported field value: ${Wc(s)}`)}(r,t)}function a0(r,t){const n={};return YE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(r,(s,l)=>{const c=Hm(l,t.Vc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function o0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof gi||r instanceof xn||r instanceof Ve||r instanceof jm||r instanceof pi)}function l0(r,t,n){if(!o0(n)||!QE(n)){const s=Wc(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function LC(r,t,n){if((t=cn(t))instanceof zm)return t._internalPath;if(typeof t=="string")return u0(r,t);throw Kc("Field path arguments must be of type string or ",r,!1,void 0,n)}const zC=new RegExp("[~\\*/\\[\\]]");function u0(r,t,n){if(t.search(zC)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Kc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new at(Y.INVALID_ARGUMENT,g+r+p)}function jC(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(h0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BC extends c0{data(){return super.data()}}function h0(r,t){return typeof t=="string"?u0(r,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fm{}class HC extends Fm{}function FC(r,t,...n){let s=[];t instanceof Fm&&s.push(t),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof Qm).length,g=c.filter(p=>p instanceof Gm).length;if(d>1||d>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Gm extends HC{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Gm(t,n,s)}_apply(t){const n=this._parse(t);return f0(t._query,n),new no(t.firestore,t.converter,Fd(t._query,n))}_parse(t){const n=s0(t.firestore);return function(c,d,g,p,_,A,w){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){qv(w,A);const Z=[];for(const tt of w)Z.push(Bv(p,c,tt));D={arrayValue:{values:Z}}}else D=Bv(p,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||qv(w,A),D=kC(g,d,w,A==="in"||A==="not-in");return Re.create(_,A,D)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Qm extends Fm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Qm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)f0(d,p),d=Fd(d,p)}(t._query,n),new no(t.firestore,t.converter,Fd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Bv(r,t,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uT(t)&&n.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!ht.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nv(r,new ht(s))}if(n instanceof Ve)return nv(r,n._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wc(n)}.`)}function qv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function f0(r,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class GC{convertValue(t,n="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return xs(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[zc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>ge(d.doubleValue));return new pi(c)}convertGeoPoint(t){return new gi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const n=Br(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Gt(OT(s),9688,{name:t});const l=new Il(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||Yi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class pl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ds extends c0{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(h0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ds._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:we("string",Ds._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class Cc extends Ds{data(t={}){return super.data(t)}}class qa{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Cc(this._firestore,this._userDataWriter,s.key,s,new pl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new Cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:KC(g.type),doc:p,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:we("string",qa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class d0 extends GC{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function YC(r){return m0(ja(r.firestore,Vl),[new Am(r._key,di.none())])}function XC(r,t){const n=ja(r.firestore,Vl),s=n0(r),l=QC(r.converter,t);return m0(n,[UC(s0(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,di.exists(!1))]).then(()=>s)}function $C(r,...t){var n,s,l;r=cn(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||jv(t[d])||(c=t[d++]);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(jv(t[d])){const w=t[d];t[d]=(n=w.next)===null||n===void 0?void 0:n.bind(w),t[d+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),t[d+2]=(l=w.complete)===null||l===void 0?void 0:l.bind(w)}let p,_,A;if(r instanceof Ve)_=ja(r.firestore,Vl),A=Em(r._key.path),p={next:w=>{t[d]&&t[d](ZC(_,r,w))},error:t[d+1],complete:t[d+2]};else{const w=ja(r,no);_=ja(w.firestore,Vl),A=w._query;const D=new d0(_);p={next:q=>{t[d]&&t[d](new qa(_,D,w,q))},error:t[d+1],complete:t[d+2]},qC(r._query)}return function(D,q,Z,tt){const J=new wC(tt),_t=new oC(q,J,Z);return D.asyncQueue.enqueueAndForget(async()=>iC(await Mv(D),_t)),()=>{J.Ou(),D.asyncQueue.enqueueAndForget(async()=>rC(await Mv(D),_t))}}(i0(_),A,g,p)}function m0(r,t){return function(s,l){const c=new Cs;return s.asyncQueue.enqueueAndForget(async()=>yC(await DC(s),l,c)),c.promise}(i0(r),t)}function ZC(r,t,n){const s=n.docs.get(t._key),l=new d0(r);return new Ds(r,l,t._key,s,new pl(n.hasPendingWrites,n.fromCache),t.converter)}function JC(){return new qm("serverTimestamp")}(function(t,n=!0){(function(l){Ja=l})($a),Ha(new Os("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Vl(new UR(s.getProvider("auth-internal")),new zR(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(_.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Pr(q_,H_,t),Pr(q_,H_,"esm2017")})();const WC=r=>{if(!r)return"N/A";const t=new Date(r);if(isNaN(t.getTime()))return"N/A";const n=new Date;let s=n.getFullYear()-t.getFullYear();const l=n.getMonth()-t.getMonth();return(l<0||l===0&&n.getDate()<t.getDate())&&s--,s};function t2({db:r,appFirestoreId:t}){const[n,s]=Ht.useState([]),[l,c]=Ht.useState(!0),[d,g]=Ht.useState(null),[p,_]=Ht.useState(!1),[A,w]=Ht.useState(null),[D,q]=Ht.useState(""),[Z,tt]=Ht.useState("");Ht.useEffect(()=>{if(!r){g("La base de datos de Firestore no está inicializada."),c(!1);return}const it=e0(r,`artifacts/${t}/public/data/reservas`),At=FC(it),ft=$C(At,Rt=>{const O=[];Rt.forEach(S=>{O.push({id:S.id,...S.data()})}),O.sort((S,b)=>{if(S.timestamp&&b.timestamp){const V=S.timestamp.toDate();return b.timestamp.toDate()-V}return 0}),s(O),c(!1)},Rt=>{console.error("Error al obtener reservas:",Rt),g("Error al cargar las reservas. Inténtalo de nuevo."),c(!1)});return()=>ft()},[r,t]);const J=it=>{w(it),_(!0),q(""),tt("")},_t=async()=>{if(!A||!r){q("Error: No se pudo identificar la reserva a eliminar."),tt("error"),_(!1);return}try{const it=n0(r,`artifacts/${t}/public/data/reservas`,A);await YC(it),q("Reserva eliminada con éxito."),tt("success"),_(!1),w(null)}catch(it){console.error("Error al eliminar la reserva:",it),q("Error al eliminar la reserva. Inténtalo de nuevo."),tt("error"),_(!1)}},dt=()=>{_(!1),w(null),q(""),tt("")};return l?K.jsx("div",{className:"reservas-loading",children:"Cargando reservas..."}):d?K.jsx("div",{className:"reservas-error",children:d}):K.jsxs("div",{className:"reservas-list-container",children:[K.jsx("h3",{className:"reservas-list-title",children:"Reservas Existentes"}),D&&K.jsx("div",{className:`delete-message-display ${Z}`,children:D}),n.length===0?K.jsx("p",{className:"no-reservas-message",children:"No hay reservas registradas aún."}):K.jsxs("div",{className:"reservas-grid-wrapper",children:[" ",n.map(it=>K.jsxs("div",{className:"reserva-card",children:[K.jsxs("div",{className:"reserva-main-info",children:[K.jsxs("p",{children:[K.jsx("strong",{children:"ID de Reserva:"})," ",K.jsx("span",{className:"reserva-id",children:it.id})]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Ingreso:"})," ",it.fechaIngreso]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Salida:"})," ",it.fechaSalida]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Personas:"})," ",it.cantidadPersonas]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Email:"})," ",it.email]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Teléfono:"}),K.jsx("a",{href:`https://wa.me/${it.telefonoContacto.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-link",children:it.telefonoContacto})]}),K.jsxs("p",{children:[K.jsx("strong",{children:"País:"})," ",it.pais]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Dirección:"})," ",it.direccion]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Fecha y hora de la reserva:"})," ",it.timestamp?it.timestamp.toDate().toLocaleString():"N/A"]})]}),it.huespedes&&it.huespedes.length>0&&K.jsxs("div",{className:"huespedes-section",children:[K.jsx("h4",{className:"huespedes-section-title",children:"Detalles de Huéspedes"}),K.jsx("div",{className:"huespedes-grid",children:it.huespedes.map((At,ft)=>K.jsxs("div",{className:"huesped-card",children:[K.jsxs("h5",{children:["Huésped ",ft+1]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Apellido y Nombre:"})," ",At.apellidoNombre]}),K.jsxs("p",{children:[K.jsx("strong",{children:"DNI / Pasaporte:"})," ",At.dniPasaporte]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Fecha de Nacimiento:"})," ",At.fechaNacimiento]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Edad:"})," ",WC(At.fechaNacimiento)]})," "]},ft))})]}),K.jsx("button",{className:"delete-reserva-button",onClick:()=>J(it.id),children:"Eliminar Reserva"})]},it.id))]}),p&&K.jsx("div",{className:"modal-overlay",children:K.jsxs("div",{className:"modal-content",children:[K.jsx("h3",{children:"Confirmar Eliminación"}),K.jsx("p",{children:"¿Estás seguro de que quieres eliminar esta reserva?"}),K.jsxs("div",{className:"modal-actions",children:[K.jsx("button",{className:"modal-button confirm",onClick:_t,children:"Sí, Eliminar"}),K.jsx("button",{className:"modal-button cancel",onClick:dt,children:"Cancelar"})]})]})})]})}function e2({db:r,appFirestoreId:t}){return K.jsxs("div",{className:"reservations-page-container",children:[K.jsx("h2",{className:"page-title",children:"Administración de Reservas"}),K.jsx(t2,{db:r,appFirestoreId:t})]})}const n2={apiKey:"AIzaSyBcdH9L1TM3ClkZ1JYIUFB5Sqltgj1dFXo",authDomain:"nuevareservarigistro.firebaseapp.com",projectId:"nuevareservarigistro",storageBucket:"nuevareservarigistro.firebasestorage.app",messagingSenderId:"125274697719",appId:"1:125274697719:web:db8ccd89e465e49bf288f2"},Hv="hotel-raices-aconcagua-reservas",i2="tresfronteras545";function r2(){const[r,t]=Ht.useState(1),[n,s]=Ht.useState(""),[l,c]=Ht.useState(""),[d,g]=Ht.useState(""),[p,_]=Ht.useState(""),[A,w]=Ht.useState(""),[D,q]=Ht.useState(""),[Z,tt]=Ht.useState([]),[J,_t]=Ht.useState(null),[dt,it]=Ht.useState(null),[At,ft]=Ht.useState(""),[Rt,O]=Ht.useState(!0),[S,b]=Ht.useState(""),[V,M]=Ht.useState(""),[x,I]=Ht.useState(""),[pe,ie]=Ht.useState(""),[H,nt]=Ht.useState("form"),[lt,Ut]=Ht.useState(!1),[C,$]=Ht.useState(""),[rt,W]=Ht.useState("");Ht.useEffect(()=>{(async()=>{try{const It=tE(n2),_e=OC(It),ve=VR(It);_t(_e),it(ve);const Un=Tb(ve,async Zi=>{if(Zi)ft(Zi.uid);else try{await gb(ve),ft(ve.currentUser?.uid||crypto.randomUUID())}catch(zs){console.error("Error al iniciar sesión anónimamente:",zs),b("Error de autenticación. No se pueden guardar los datos."),M("error"),ft(crypto.randomUUID())}O(!1)});return()=>Un()}catch(It){console.error("Error al inicializar Firebase:",It),b("Error al inicializar la aplicación. Por favor, inténtalo de nuevo más tarde."),M("error"),O(!1)}})()},[]),Ht.useEffect(()=>{const Et=[];for(let It=0;It<r;It++)Et.push({apellidoNombre:Z[It]?.apellidoNombre||"",dniPasaporte:Z[It]?.dniPasaporte||"",fechaNacimiento:Z[It]?.fechaNacimiento||""});tt(Et)},[r]);const ut=(Et,It,_e)=>{const ve=[...Z];ve[Et]={...ve[Et],[It]:_e},tt(ve)},wt=Et=>{if(!n||!Et)return I(""),!0;const It=new Date(n);return new Date(Et)<It?(I("La fecha de salida no puede ser anterior a la de ingreso."),!1):(I(""),!0)},pt=Et=>!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Et)&&Et!==""?(ie("Por favor, ingresa un formato de email válido."),!1):(ie(""),!0),ye=async Et=>{if(Et.preventDefault(),b(""),M(""),!J||!At){b("La base de datos no está lista o el usuario no está autenticado."),M("error");return}const It=wt(l),_e=pt(p);if(!It||!_e){b("Por favor, corrige los errores en el formulario antes de enviar."),M("error");return}O(!0),b("Enviando reserva..."),M("");try{const ve={cantidadPersonas:parseInt(r,10),fechaIngreso:n,fechaSalida:l,telefonoContacto:d,email:p,pais:A,direccion:D,huespedes:Z,timestamp:JC(),userId:At},Un=await XC(e0(J,`artifacts/${Hv}/public/data/reservas`),ve);b("¡Reserva enviada con éxito!"),M("success"),t(1),s(""),c(""),g(""),_(""),w(""),q(""),tt([]),O(!1),console.log("Documento escrito con ID: ",Un.id)}catch(ve){console.error("Error al añadir documento: ",ve),b("Error al enviar la reserva. Inténtalo de nuevo."),M("error"),O(!1)}},Xt=()=>{Ut(!0),$(""),W(""),nt("form")},En=Et=>{Et.preventDefault(),C===i2?(nt("reservations"),Ut(!1),W("")):W("Contraseña incorrecta. Inténtalo de nuevo.")};return Rt?K.jsx("div",{className:"loading-container",children:K.jsx("p",{className:"loading-text",children:"Cargando aplicación..."})}):K.jsxs("div",{className:"main-container",children:[H==="form"&&!lt&&K.jsx("div",{className:"scroll-down-arrow"}),K.jsxs("div",{className:"navigation-buttons",children:[K.jsx("button",{className:`nav-button ${H==="form"&&!lt?"active":""}`,onClick:()=>{nt("form"),Ut(!1)},children:"Nueva Reserva"}),K.jsx("button",{className:`nav-button ${H==="reservations"||lt?"active":""}`,onClick:Xt,children:"Ver Reservas"})]}),H==="form"&&!lt&&K.jsxs("div",{className:"form-wrapper",children:[K.jsxs("h2",{className:"form-title",children:["Hotel Raíces Aconcagua",K.jsx("span",{className:"subtitle",children:"Nueva Reserva"})]}),S&&K.jsx("div",{className:`message-display ${V}`,children:S}),K.jsxs("form",{onSubmit:ye,children:[K.jsxs("div",{className:"form-section-grid",children:[K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:"cantidadPersonas",className:"form-label",children:"Cantidad de personas:"}),K.jsx("input",{type:"number",id:"cantidadPersonas",name:"cantidadPersonas",min:"1",value:r,onChange:Et=>t(parseInt(Et.target.value)||0),required:!0,className:"form-input"})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:"fechaIngreso",className:"form-label",children:"Fecha de Ingreso (Check In):"}),K.jsx("input",{type:"date",id:"fechaIngreso",name:"fechaIngreso",value:n,onChange:Et=>{s(Et.target.value),wt(l)},required:!0,className:"form-input"})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:"fechaSalida",className:"form-label",children:"Fecha de Salida (Check Out):"}),K.jsx("input",{type:"date",id:"fechaSalida",name:"fechaSalida",value:l,onChange:Et=>{c(Et.target.value),wt(Et.target.value)},required:!0,className:"form-input"}),x&&K.jsx("p",{className:"input-error-message",children:x})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:"telefonoContacto",className:"form-label",children:"Teléfono de Contacto:"}),K.jsx("input",{type:"text",id:"telefonoContacto",name:"telefonoContacto",value:d,onChange:Et=>g(Et.target.value),required:!0,className:"form-input"})]}),K.jsxs("div",{className:"form-group full-width",children:[" ",K.jsx("label",{htmlFor:"email",className:"form-label",children:"Email:"}),K.jsx("input",{type:"email",id:"email",name:"email",value:p,onChange:Et=>{_(Et.target.value),pt(Et.target.value)},required:!0,className:"form-input"}),pe&&K.jsx("p",{className:"input-error-message",children:pe})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:"pais",className:"form-label",children:"País:"}),K.jsx("input",{type:"text",id:"pais",name:"pais",value:A,onChange:Et=>w(Et.target.value),required:!0,className:"form-input"})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:"direccion",className:"form-label",children:"Dirección:"}),K.jsx("input",{type:"text",id:"direccion",name:"direccion",value:D,onChange:Et=>q(Et.target.value),required:!0,className:"form-input"})]})]}),K.jsx("div",{className:"separator"}),K.jsx("div",{id:"huespedesContainer",children:Z.map((Et,It)=>K.jsxs("div",{className:"guest-section",children:[K.jsxs("h3",{className:"guest-title",children:["Huésped ",It+1]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:`apellidoNombre_${It}`,className:"form-label",children:"Apellido y Nombre:"}),K.jsx("input",{type:"text",id:`apellidoNombre_${It}`,name:`huesped_${It}_apellidoNombre`,value:Et.apellidoNombre,onChange:_e=>ut(It,"apellidoNombre",_e.target.value),required:!0,className:"form-input"})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:`dniPasaporte_${It}`,className:"form-label",children:"DNI / Pasaporte:"}),K.jsx("input",{type:"text",id:`dniPasaporte_${It}`,name:`huesped_${It}_dniPasaporte`,value:Et.dniPasaporte,onChange:_e=>ut(It,"dniPasaporte",_e.target.value),required:!0,className:"form-input"})]}),K.jsxs("div",{className:"form-group",children:[K.jsx("label",{htmlFor:`fechaNacimiento_${It}`,className:"form-label",children:"Fecha de Nacimiento:"}),K.jsx("input",{type:"date",id:`fechaNacimiento_${It}`,name:`huesped_${It}_fechaNacimiento`,value:Et.fechaNacimiento,onChange:_e=>ut(It,"fechaNacimiento",_e.target.value),required:!0,className:"form-input"})]})]},It))}),K.jsx("button",{type:"submit",className:"submit-button",disabled:Rt,children:Rt?"Enviando...":"Enviar Reserva"})]})]}),lt&&H==="form"&&K.jsx("div",{className:"password-input-container",children:K.jsxs("form",{onSubmit:En,children:[K.jsx("label",{htmlFor:"password-field",className:"form-label",children:"Ingresa la clave de recepcionista:"}),K.jsx("input",{type:"password",id:"password-field",className:"form-input",value:C,onChange:Et=>$(Et.target.value),required:!0}),rt&&K.jsx("p",{className:"input-error-message",children:rt}),K.jsx("button",{type:"submit",className:"submit-button password-submit-button",children:"Acceder a Reservas"})]})}),H==="reservations"&&J&&K.jsx(e2,{db:J,appFirestoreId:Hv})]})}YA.createRoot(document.getElementById("root")).render(K.jsx(Ht.StrictMode,{children:K.jsx(r2,{})}));
